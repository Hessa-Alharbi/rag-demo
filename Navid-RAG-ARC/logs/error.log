2025-02-25 01:37:23.405 | ERROR    | core.db:get_session:21 | Database session error: 500: Authentication failed
2025-02-25 01:37:48.972 | ERROR    | core.db:get_session:21 | Database session error: 500: Registration failed
2025-02-25 01:49:18.985 | ERROR    | core.db:get_session:31 | Database session error: 400: Email already registered
2025-02-25 01:52:36.716 | ERROR    | core.db:get_session:31 | Database session error: (sqlite3.IntegrityError) NOT NULL constraint failed: document.content
[SQL: INSERT INTO document (id, title, content, doc_metadata, status, vector_ids, conversation_id, created_by_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('af72443e07a2420a937db9f8e7150dd2', 'Amended Securities Business Regulations-ar.pdf', None, '{}', 'PROCESSING', '[]', '61ff029dbc32493bafc8df7cb3fe4973', '79ba2c8ae22b430799a6a0a92f315669', '2025-02-24 20:52:36.697809', '2025-02-24 20:52:36.697809')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-02-25 02:22:36.984 | ERROR    | apps.rag.services:__init__:31 | Failed to initialize RAGService: not enough values to unpack (expected 3, got 0)
2025-02-25 02:24:18.279 | ERROR    | apps.rag.services:__init__:31 | Failed to initialize RAGService: not enough values to unpack (expected 3, got 0)
2025-02-25 02:27:56.656 | ERROR    | apps.rag.services:__init__:38 | Failed to initialize RAGService: Could not import rank_bm25, please install with `pip install rank_bm25`.
2025-02-25 02:30:02.753 | ERROR    | core.db:get_session:31 | Database session error: 401: Invalid credentials
2025-02-25 02:32:25.976 | ERROR    | apps.rag.services:hybrid_search:182 | Error in hybrid search: '\n    "semantic_queries"'
2025-02-25 02:32:25.978 | ERROR    | apps.chat.routes:create_message:124 | Error generating response: '\n    "semantic_queries"'
2025-02-25 02:32:26.007 | ERROR    | apps.chat.routes:create_message:136 | Error creating message: '\n    "semantic_queries"'
2025-02-25 02:32:26.011 | ERROR    | core.db:get_session:31 | Database session error: 500: {'error': 'message_creation_failed', 'message': 'Failed to create message', 'code': 500, 'details': {'error': '\'\\n    "semantic_queries"\''}, 'timestamp': '2025-02-24T21:32:26.009521'}
2025-02-25 02:40:17.340 | ERROR    | apps.test.routes:test_embeddings:24 | Embeddings test failed: object list can't be used in 'await' expression
2025-02-25 02:40:45.634 | ERROR    | apps.test.routes:test_vector_store:58 | Vector store test failed: A list of valid ids are required when auto_id is False. You can set `auto_id` to True in this Milvus instance to generate ids automatically, or specify string-type ids for each text.
2025-02-25 02:42:16.593 | ERROR    | apps.test.routes:test_embeddings:25 | Embeddings test failed: object list can't be used in 'await' expression
2025-02-25 02:46:34.147 | ERROR    | apps.test.routes:test_vector_store:69 | Vector store test failed: A list of valid ids are required when auto_id is False. You can set `auto_id` to True in this Milvus instance to generate ids automatically, or specify string-type ids for each text.
2025-02-25 02:49:59.660 | ERROR    | apps.rag.services:__init__:43 | Failed to initialize RAGService: Milvus.__init__() got an unexpected keyword argument 'dimension'
2025-02-25 02:52:12.626 | ERROR    | apps.rag.services:__init__:45 | Failed to initialize RAGService: Milvus.__init__() got an unexpected keyword argument 'collection_config'
2025-02-25 02:57:04.957 | ERROR    | apps.rag.services:__init__:36 | Failed to initialize RAGService: Milvus.__init__() got an unexpected keyword argument 'schema'
2025-02-25 03:00:00.471 | ERROR    | core.vector_store.utils:ensure_milvus_collection:22 | Error ensuring Milvus collection: <ConnectionNotExistException: (code=1, message=should create connection first.)>
2025-02-25 03:00:00.473 | ERROR    | apps.rag.services:__init__:36 | Failed to initialize RAGService: <ConnectionNotExistException: (code=1, message=should create connection first.)>
2025-02-25 03:02:46.231 | ERROR    | core.vector_store.utils:ensure_milvus_collection:26 | Error ensuring Milvus collection: Either `embedding_function` or `builtin_function` should be provided.
2025-02-25 03:02:46.232 | ERROR    | apps.rag.services:__init__:36 | Failed to initialize RAGService: Either `embedding_function` or `builtin_function` should be provided.
2025-02-25 03:06:11.008 | ERROR    | core.vector_store.utils:create_milvus_collection:29 | Error creating Milvus collection: <MilvusException: (code=700, message=index not found[collection=document_store])>
2025-02-25 03:06:11.009 | ERROR    | apps.rag.services:__init__:37 | Failed to initialize RAGService: <MilvusException: (code=700, message=index not found[collection=document_store])>
2025-02-25 03:10:41.241 | ERROR    | __main__:reset_vector_store:48 | Error resetting vector store: 'Settings' object has no attribute 'EMBEDDING_DIMENSION'
2025-02-25 03:12:37.910 | ERROR    | apps.rag.services:__init__:37 | Failed to initialize RAGService: no running event loop
2025-02-25 03:16:06.604 | ERROR    | apps.test.routes:test_vector_store:93 | Vector store test failed: A list of valid ids are required when auto_id is False. You can set `auto_id` to True in this Milvus instance to generate ids automatically, or specify string-type ids for each text.
2025-02-25 03:17:04.105 | ERROR    | apps.rag.services:_generate_search_queries:236 | Error generating search queries: '\n    "semantic_queries"'
2025-02-25 03:17:04.106 | ERROR    | apps.test.routes:test_hybrid_search:145 | Hybrid search test failed: '\n    "semantic_queries"'
2025-02-25 03:18:23.146 | ERROR    | apps.test.routes:test_vector_store:93 | Vector store test failed: A list of valid ids are required when auto_id is False. You can set `auto_id` to True in this Milvus instance to generate ids automatically, or specify string-type ids for each text.
2025-02-25 03:21:36.287 | ERROR    | core.vector_store.utils:create_milvus_collection:52 | Error creating Milvus collection: <MilvusException: (code=65535, message=only metric type can be passed when use AutoIndex)>
2025-02-25 03:21:36.288 | ERROR    | apps.test.routes:test_vector_store:97 | Vector store test failed: <MilvusException: (code=65535, message=only metric type can be passed when use AutoIndex)>
2025-02-25 03:25:06.201 | ERROR    | apps.rag.services:_generate_search_queries:236 | Error generating search queries: '\n    "semantic_queries"'
2025-02-25 03:25:06.201 | ERROR    | apps.test.routes:test_hybrid_search:145 | Hybrid search test failed: '\n    "semantic_queries"'
2025-02-25 03:30:01.342 | ERROR    | apps.rag.services:_generate_search_queries:236 | Error generating search queries: '\n    "semantic_queries"'
2025-02-25 03:30:01.345 | ERROR    | apps.test.routes:test_hybrid_search:145 | Hybrid search test failed: '\n    "semantic_queries"'
2025-02-25 03:33:01.878 | ERROR    | apps.rag.services:_generate_search_queries:258 | Error generating search queries: '\n    "semantic_queries"'
2025-02-25 03:33:01.879 | ERROR    | apps.rag.services:_generate_search_queries:258 | Error generating search queries: '\n    "semantic_queries"'
2025-02-25 03:33:01.880 | ERROR    | apps.rag.services:hybrid_search:190 | Error in hybrid search: 'VectorStoreManager' object has no attribute 'similarity_search'
2025-02-25 03:33:01.880 | ERROR    | apps.test.routes:test_hybrid_search:145 | Hybrid search test failed: 'VectorStoreManager' object has no attribute 'similarity_search'
2025-02-25 03:35:16.927 | ERROR    | apps.rag.services:_generate_search_queries:265 | Error generating search queries: '\n    "semantic_queries"'
2025-02-25 03:35:16.928 | ERROR    | apps.rag.services:_generate_search_queries:265 | Error generating search queries: '\n    "semantic_queries"'
2025-02-25 03:35:44.331 | ERROR    | core.db:get_session:31 | Database session error: 401: Invalid credentials
2025-02-25 03:38:26.702 | ERROR    | apps.rag.services:_generate_search_queries:265 | Error generating search queries: '\n    "semantic_queries"'
2025-02-25 03:50:56.329 | ERROR    | apps.rag.services:__init__:38 | Failed to initialize RAGService: 'Settings' object has no attribute 'DATA_DIR'
2025-02-25 03:52:36.569 | ERROR    | core.vector_store.manager:initialize_store:31 | Error initializing vector store: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-02-25 03:56:06.679 | ERROR    | core.vector_store.manager:initialize_store:44 | Error initializing vector store: Could not import faiss python package. Please install it with `pip install faiss-gpu` (for CUDA supported GPU) or `pip install faiss-cpu` (depending on Python version).
2025-02-25 03:56:06.680 | ERROR    | apps.rag.services:__init__:38 | Failed to initialize RAGService: Vector store initialization failed: Could not import faiss python package. Please install it with `pip install faiss-gpu` (for CUDA supported GPU) or `pip install faiss-cpu` (depending on Python version).
2025-02-25 03:58:50.305 | ERROR    | core.db:get_session:31 | Database session error: 'RAGService' object has no attribute 'get_document'
2025-02-25 03:58:50.309 | ERROR    | core.middleware:error_handler:11 | Unhandled error: 'RAGService' object has no attribute 'get_document'
2025-02-25 04:04:03.135 | ERROR    | core.db:get_session:31 | Database session error: RAGService.get_document() missing 1 required positional argument: 'session'
2025-02-25 04:04:03.156 | ERROR    | core.middleware:error_handler:11 | Unhandled error: RAGService.get_document() missing 1 required positional argument: 'session'
2025-02-25 04:07:37.320 | ERROR    | core.db:get_session:31 | Database session error: RAGService.get_document_status() missing 1 required positional argument: 'session'
2025-02-25 04:07:37.324 | ERROR    | core.middleware:error_handler:11 | Unhandled error: RAGService.get_document_status() missing 1 required positional argument: 'session'
2025-02-25 04:08:07.004 | ERROR    | apps.rag.routes:upload_document:82 | Error processing document: (sqlite3.OperationalError) table document has no column named current_status
[SQL: INSERT INTO document (id, title, content, doc_metadata, status, vector_ids, conversation_id, created_by_id, created_at, updated_at, current_status, is_searchable) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('e82460ca2eee4f539f7e35277f8e9295', '1st dataset navid RAG.docx', '', '{"file_size": 13826, "file_type": "application/octet-stream", "attachment_id": "5801d1f2-d9ac-4dc0-99be-e0cc8eb3ad2c"}', 'PROCESSING', '[]', 'ea37a2c3b4854dd1988289cdcb40464f', '25384abfe3d64861bbb5eb8c986ceea1', '2025-02-24 23:08:06.993438', '2025-02-24 23:08:06.993438', 'QUEUED', 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-25 04:08:07.006 | ERROR    | core.db:get_session:31 | Database session error: 500: (sqlite3.OperationalError) table document has no column named current_status
[SQL: INSERT INTO document (id, title, content, doc_metadata, status, vector_ids, conversation_id, created_by_id, created_at, updated_at, current_status, is_searchable) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('e82460ca2eee4f539f7e35277f8e9295', '1st dataset navid RAG.docx', '', '{"file_size": 13826, "file_type": "application/octet-stream", "attachment_id": "5801d1f2-d9ac-4dc0-99be-e0cc8eb3ad2c"}', 'PROCESSING', '[]', 'ea37a2c3b4854dd1988289cdcb40464f', '25384abfe3d64861bbb5eb8c986ceea1', '2025-02-24 23:08:06.993438', '2025-02-24 23:08:06.993438', 'QUEUED', 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-25 16:49:05.328 | ERROR    | core.db:get_session:31 | Database session error: 401: Invalid credentials
2025-02-25 16:51:37.201 | ERROR    | apps.rag.services:_generate_search_queries:334 | Error generating search queries: '\n    "semantic_queries"'
2025-02-25 17:02:58.979 | ERROR    | apps.rag.services:generate_response:277 | Error generating response: object LLMResult can't be used in 'await' expression
2025-02-25 17:02:58.983 | ERROR    | apps.chat.routes:generate_rag_response:228 | Error generating response: object LLMResult can't be used in 'await' expression
2025-02-25 17:07:39.415 | ERROR    | apps.rag.services:_generate_search_queries:335 | Error generating search queries: '\n    "semantic_queries"'
2025-02-25 17:28:02.707 | ERROR    | apps.rag.services:_generate_search_queries:325 | Search query generation error: 'RAGService' object has no attribute 'HYBRID_SEARCH_PROMPT'
2025-02-25 17:38:32.406 | ERROR    | apps.rag.services:_generate_search_queries:337 | Search query generation error: '\n    "semantic_queries"'
2025-02-25 17:42:12.950 | ERROR    | apps.rag.services:_generate_search_queries:351 | Search query generation error: 'ChatOpenAI' object has no attribute 'chat'
2025-02-26 01:03:22.379 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-02-26 01:03:22.379 | ERROR    | __main__:lifespan:32 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-02-26 01:11:31.067 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-02-26 01:11:31.067 | ERROR    | __main__:lifespan:32 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-02-26 01:12:33.413 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-02-26 01:12:33.413 | ERROR    | __main__:lifespan:32 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-02-26 01:22:18.916 | ERROR    | apps.rag.services:_generate_search_queries:337 | Search query generation error: '\n    "semantic_queries"'
2025-02-26 01:30:06.954 | ERROR    | core.vector_store.manager:_create_store:38 | Error creating vector store: 'Settings' object has no attribute 'get_embeddings'
2025-02-26 01:30:06.962 | ERROR    | core.vector_store.manager:initialize:27 | Failed to initialize vector store: 'Settings' object has no attribute 'get_embeddings'
2025-02-26 01:30:06.963 | ERROR    | apps.rag.services:query_documents:524 | Error in document query: 'Settings' object has no attribute 'get_embeddings'
2025-02-26 01:30:06.963 | ERROR    | apps.chat.routes:query_documents:442 | Error processing query: 'Settings' object has no attribute 'get_embeddings'
2025-02-26 01:30:06.968 | ERROR    | core.db:get_session:31 | Database session error: 500: {'error': 'query_failed', 'message': 'Query failed / فشل الاستعلام', 'code': 500, 'details': {'error': "'Settings' object has no attribute 'get_embeddings'"}, 'timestamp': '2025-02-25T20:30:06.963511'}
2025-02-26 01:35:19.388 | ERROR    | core.db:get_session:31 | Database session error: "'error'"
2025-02-26 01:35:19.391 | ERROR    | core.middleware:error_handler:11 | Unhandled error: "'error'"
2025-02-26 01:41:18.773 | ERROR    | core.db:get_session:31 | Database session error: "'error'"
2025-02-26 01:41:18.777 | ERROR    | core.middleware:error_handler:11 | Unhandled error: "'error'"
2025-02-26 01:44:41.901 | ERROR    | core.db:get_session:31 | Database session error: "'error'"
2025-02-26 01:44:41.905 | ERROR    | core.middleware:error_handler:11 | Unhandled error: "'error'"
2025-02-26 02:05:42.027 | ERROR    | apps.chat.routes:process_query:417 | Error processing query: '_GeneratorContextManager' object has no attribute 'query'
2025-02-26 02:09:26.127 | ERROR    | apps.chat.routes:process_query:441 | Error processing query: (builtins.AttributeError) 'str' object has no attribute 'hex'
[SQL: SELECT conversation.id, conversation.title, conversation.created_by_id, conversation.created_at, conversation.updated_at 
FROM conversation 
WHERE conversation.id = ? AND conversation.created_by_id = ?]
[parameters: [{}]]
2025-02-26 02:11:40.021 | ERROR    | apps.rag.services:_generate_search_queries:350 | Error generating search queries: 'ChatOpenAI' object has no attribute 'chat'
2025-02-26 02:17:36.074 | ERROR    | apps.rag.services:__init__:55 | Failed to initialize RAGService: 'Settings' object has no attribute 'OPENAI_MODEL_NAME'
2025-02-26 02:22:07.084 | ERROR    | apps.rag.services:__init__:55 | Failed to initialize RAGService: 'Settings' object has no attribute 'OPENAI_MODEL_NAME'
2025-02-26 02:23:38.474 | ERROR    | apps.rag.services:__init__:55 | Failed to initialize RAGService: 'Settings' object has no attribute 'OPENAI_MODEL_NAME'
2025-02-26 02:35:52.695 | ERROR    | apps.rag.services:_generate_search_queries:397 | Error generating search queries: 'ChatOpenAI' object has no attribute 'chat'
2025-02-26 02:48:08.234 | ERROR    | apps.rag.services:process_attachments:465 | Error processing document 1st dataset navid RAG.docx: 'RAGService' object has no attribute 'task_queue'
2025-03-03 07:42:51.690 | ERROR    | apps.rag.services:__init__:52 | Failed to initialize RAGService: status_code: None, body: The client must be instantiated be either passing in token or setting CO_API_KEY
2025-03-03 07:44:08.564 | ERROR    | apps.rag.services:__init__:52 | Failed to initialize RAGService: [Errno 11001] getaddrinfo failed
2025-03-03 08:12:15.248 | ERROR    | apps.rag.services:__init__:52 | Failed to initialize RAGService: status_code: None, body: The client must be instantiated be either passing in token or setting CO_API_KEY
2025-03-03 08:14:01.295 | ERROR    | apps.rag.services:__init__:52 | Failed to initialize RAGService: status_code: None, body: The client must be instantiated be either passing in token or setting CO_API_KEY
2025-03-03 08:14:47.850 | ERROR    | apps.rag.services:__init__:52 | Failed to initialize RAGService: status_code: None, body: The client must be instantiated be either passing in token or setting CO_API_KEY
2025-03-03 08:15:15.108 | ERROR    | apps.rag.services:__init__:52 | Failed to initialize RAGService: status_code: None, body: The client must be instantiated be either passing in token or setting CO_API_KEY
2025-03-03 08:16:11.662 | ERROR    | apps.rag.services:__init__:52 | Failed to initialize RAGService: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
2025-03-03 08:16:58.564 | ERROR    | apps.rag.services:__init__:52 | Failed to initialize RAGService: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
2025-03-03 08:29:33.189 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-03-03 08:29:33.190 | ERROR    | __main__:lifespan:33 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-03-03 08:40:52.232 | ERROR    | apps.rag.services:_generate_search_queries:398 | Error generating search queries: Error code: 401 - {'error': 'Unauthorized'}
2025-03-03 08:40:52.234 | ERROR    | apps.rag.services:hybrid_search:318 | Error in hybrid search: RAGService._get_default_queries() missing 1 required positional argument: 'is_arabic'
2025-03-03 08:41:14.583 | ERROR    | apps.test.routes:test_llm:116 | LLM test failed: Error code: 401 - {'error': 'Unauthorized'}
2025-03-03 08:50:49.109 | ERROR    | apps.rag.services:_generate_search_queries:398 | Error generating search queries: Error code: 400 - {'object': 'error', 'message': '[{\'type\': \'int_type\', \'loc\': (\'body\', \'prompt\', \'list[int]\', 0), \'msg\': \'Input should be a valid integer\', \'input\': [{\'content\': \'You are a search query generator that helps create effective search queries.\\nYour responses should be valid JSON only, with no additional text or explanation.\\nAlways return a JSON object with these fields:\\n- semantic_queries: List of alternative ways to express the query\\n- keyword_terms: Important individual terms for searching\\n- arabic_terms: Arabic language terms (if applicable)\\n- filters: Any metadata filters to apply\\n\\nExample format:\\n{\\n    "semantic_queries": ["main query", "alternative phrasing"],\\n    "keyword_terms": ["important", "terms"],\\n    "arabic_terms": ["arabic terms"],\\n    "filters": {}\\n}\'}, {\'content\': \'Generate search queries for this question: explain it\\nReturn ONLY a JSON object.\'}]}, {\'type\': \'int_type\', \'loc\': (\'body\', \'prompt\', \'list[list[int]]\', 0, 0), \'msg\': \'Input should be a valid integer\', \'input\': {\'content\': \'You are a search query generator that helps create effective search queries.\\nYour responses should be valid JSON only, with no additional text or explanation.\\nAlways return a JSON object with these fields:\\n- semantic_queries: List of alternative ways to express the query\\n- keyword_terms: Important individual terms for searching\\n- arabic_terms: Arabic language terms (if applicable)\\n- filters: Any metadata filters to apply\\n\\nExample format:\\n{\\n    "semantic_queries": ["main query", "alternative phrasing"],\\n    "keyword_terms": ["important", "terms"],\\n    "arabic_terms": ["arabic terms"],\\n    "filters": {}\\n}\'}}, {\'type\': \'int_type\', \'loc\': (\'body\', \'prompt\', \'list[list[int]]\', 0, 1), \'msg\': \'Input should be a valid integer\', \'input\': {\'content\': \'Generate search queries for this question: explain it\\nReturn ONLY a JSON object.\'}}, {\'type\': \'string_type\', \'loc\': (\'body\', \'prompt\', \'str\'), \'msg\': \'Input should be a valid string\', \'input\': [[{\'content\': \'You are a search query generator that helps create effective search queries.\\nYour responses should be valid JSON only, with no additional text or explanation.\\nAlways return a JSON object with these fields:\\n- semantic_queries: List of alternative ways to express the query\\n- keyword_terms: Important individual terms for searching\\n- arabic_terms: Arabic language terms (if applicable)\\n- filters: Any metadata filters to apply\\n\\nExample format:\\n{\\n    "semantic_queries": ["main query", "alternative phrasing"],\\n    "keyword_terms": ["important", "terms"],\\n    "arabic_terms": ["arabic terms"],\\n    "filters": {}\\n}\'}, {\'content\': \'Generate search queries for this question: explain it\\nReturn ONLY a JSON object.\'}]]}, {\'type\': \'string_type\', \'loc\': (\'body\', \'prompt\', \'list[str]\', 0), \'msg\': \'Input should be a valid string\', \'input\': [{\'content\': \'You are a search query generator that helps create effective search queries.\\nYour responses should be valid JSON only, with no additional text or explanation.\\nAlways return a JSON object with these fields:\\n- semantic_queries: List of alternative ways to express the query\\n- keyword_terms: Important individual terms for searching\\n- arabic_terms: Arabic language terms (if applicable)\\n- filters: Any metadata filters to apply\\n\\nExample format:\\n{\\n    "semantic_queries": ["main query", "alternative phrasing"],\\n    "keyword_terms": ["important", "terms"],\\n    "arabic_terms": ["arabic terms"],\\n    "filters": {}\\n}\'}, {\'content\': \'Generate search queries for this question: explain it\\nReturn ONLY a JSON object.\'}]}]', 'type': 'BadRequestError', 'param': None, 'code': 400}
2025-03-03 08:50:49.112 | ERROR    | apps.rag.services:hybrid_search:318 | Error in hybrid search: RAGService._get_default_queries() missing 1 required positional argument: 'is_arabic'
2025-03-03 08:51:06.727 | ERROR    | apps.rag.services:_generate_search_queries:398 | Error generating search queries: Error code: 400 - {'object': 'error', 'message': '[{\'type\': \'int_type\', \'loc\': (\'body\', \'prompt\', \'list[int]\', 0), \'msg\': \'Input should be a valid integer\', \'input\': [{\'content\': \'You are a search query generator that helps create effective search queries.\\nYour responses should be valid JSON only, with no additional text or explanation.\\nAlways return a JSON object with these fields:\\n- semantic_queries: List of alternative ways to express the query\\n- keyword_terms: Important individual terms for searching\\n- arabic_terms: Arabic language terms (if applicable)\\n- filters: Any metadata filters to apply\\n\\nExample format:\\n{\\n    "semantic_queries": ["main query", "alternative phrasing"],\\n    "keyword_terms": ["important", "terms"],\\n    "arabic_terms": ["arabic terms"],\\n    "filters": {}\\n}\'}, {\'content\': \'Generate search queries for this question: what is this document about?\\nReturn ONLY a JSON object.\'}]}, {\'type\': \'int_type\', \'loc\': (\'body\', \'prompt\', \'list[list[int]]\', 0, 0), \'msg\': \'Input should be a valid integer\', \'input\': {\'content\': \'You are a search query generator that helps create effective search queries.\\nYour responses should be valid JSON only, with no additional text or explanation.\\nAlways return a JSON object with these fields:\\n- semantic_queries: List of alternative ways to express the query\\n- keyword_terms: Important individual terms for searching\\n- arabic_terms: Arabic language terms (if applicable)\\n- filters: Any metadata filters to apply\\n\\nExample format:\\n{\\n    "semantic_queries": ["main query", "alternative phrasing"],\\n    "keyword_terms": ["important", "terms"],\\n    "arabic_terms": ["arabic terms"],\\n    "filters": {}\\n}\'}}, {\'type\': \'int_type\', \'loc\': (\'body\', \'prompt\', \'list[list[int]]\', 0, 1), \'msg\': \'Input should be a valid integer\', \'input\': {\'content\': \'Generate search queries for this question: what is this document about?\\nReturn ONLY a JSON object.\'}}, {\'type\': \'string_type\', \'loc\': (\'body\', \'prompt\', \'str\'), \'msg\': \'Input should be a valid string\', \'input\': [[{\'content\': \'You are a search query generator that helps create effective search queries.\\nYour responses should be valid JSON only, with no additional text or explanation.\\nAlways return a JSON object with these fields:\\n- semantic_queries: List of alternative ways to express the query\\n- keyword_terms: Important individual terms for searching\\n- arabic_terms: Arabic language terms (if applicable)\\n- filters: Any metadata filters to apply\\n\\nExample format:\\n{\\n    "semantic_queries": ["main query", "alternative phrasing"],\\n    "keyword_terms": ["important", "terms"],\\n    "arabic_terms": ["arabic terms"],\\n    "filters": {}\\n}\'}, {\'content\': \'Generate search queries for this question: what is this document about?\\nReturn ONLY a JSON object.\'}]]}, {\'type\': \'string_type\', \'loc\': (\'body\', \'prompt\', \'list[str]\', 0), \'msg\': \'Input should be a valid string\', \'input\': [{\'content\': \'You are a search query generator that helps create effective search queries.\\nYour responses should be valid JSON only, with no additional text or explanation.\\nAlways return a JSON object with these fields:\\n- semantic_queries: List of alternative ways to express the query\\n- keyword_terms: Important individual terms for searching\\n- arabic_terms: Arabic language terms (if applicable)\\n- filters: Any metadata filters to apply\\n\\nExample format:\\n{\\n    "semantic_queries": ["main query", "alternative phrasing"],\\n    "keyword_terms": ["important", "terms"],\\n    "arabic_terms": ["arabic terms"],\\n    "filters": {}\\n}\'}, {\'content\': \'Generate search queries for this question: what is this document about?\\nReturn ONLY a JSON object.\'}]}]', 'type': 'BadRequestError', 'param': None, 'code': 400}
2025-03-03 08:51:06.736 | ERROR    | apps.rag.services:hybrid_search:318 | Error in hybrid search: RAGService._get_default_queries() missing 1 required positional argument: 'is_arabic'
2025-03-03 08:57:04.213 | ERROR    | apps.rag.services:_generate_search_queries:391 | Failed to parse search queries
2025-03-03 08:59:14.941 | ERROR    | apps.rag.services:_generate_search_queries:391 | Failed to parse search queries
2025-03-03 09:00:00.415 | ERROR    | apps.rag.services:_generate_search_queries:391 | Failed to parse search queries
2025-03-03 09:02:16.585 | ERROR    | apps.rag.services:_generate_search_queries:391 | Failed to parse search queries
2025-03-03 09:03:44.890 | ERROR    | apps.rag.services:_generate_search_queries:391 | Failed to parse search queries
2025-03-03 09:09:08.199 | ERROR    | apps.rag.services:_generate_search_queries:391 | Failed to parse search queries
2025-03-03 09:12:23.357 | ERROR    | apps.rag.services:_generate_search_queries:391 | Failed to parse search queries
2025-03-03 09:12:58.771 | ERROR    | apps.rag.services:_generate_search_queries:391 | Failed to parse search queries
2025-03-03 09:19:05.348 | ERROR    | apps.rag.services:_generate_search_queries:383 | Failed to parse search queries
2025-03-03 09:30:00.458 | ERROR    | apps.test.routes:test_llm:116 | LLM test failed: <!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en-US"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en-US"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en-US"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en-US"> <!--<![endif]-->
<head>
<title>Cloudflare Tunnel error | damages-tracking-enjoyed-wn.trycloudflare.com | Cloudflare</title>
<meta charset="UTF-8" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta name="robots" content="noindex, nofollow" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="stylesheet" id="cf_styles-css" href="/cdn-cgi/styles/main.css" />


<script>
(function(){if(document.addEventListener&&window.XMLHttpRequest&&JSON&&JSON.stringify){var e=function(a){var c=document.getElementById("error-feedback-survey"),d=document.getElementById("error-feedback-success"),b=new XMLHttpRequest;a={event:"feedback clicked",properties:{errorCode:1033,helpful:a,version:1}};b.open("POST","https://sparrow.cloudflare.com/api/v1/event");b.setRequestHeader("Content-Type","application/json");b.setRequestHeader("Sparrow-Source-Key","c771f0e4b54944bebf4261d44bd79a1e");
b.send(JSON.stringify(a));c.classList.add("feedback-hidden");d.classList.remove("feedback-hidden")};document.addEventListener("DOMContentLoaded",function(){var a=document.getElementById("error-feedback"),c=document.getElementById("feedback-button-yes"),d=document.getElementById("feedback-button-no");"classList"in a&&(a.classList.remove("feedback-hidden"),c.addEventListener("click",function(){e(!0)}),d.addEventListener("click",function(){e(!1)}))})}})();
</script>

<script defer src="https://performance.radar.cloudflare.com/beacon.js"></script>
</head>
<body>
  <div id="cf-wrapper">
    <div class="cf-alert cf-alert-error cf-cookie-error hidden" id="cookie-alert" data-translate="enable_cookies">Please enable cookies.</div>
    <div id="cf-error-details" class="p-0">
      <header class="mx-auto pt-10 lg:pt-6 lg:px-8 w-240 lg:w-full mb-15 antialiased">
         <h1 class="inline-block md:block mr-2 md:mb-2 font-light text-60 md:text-3xl text-black-dark leading-tight">
           <span data-translate="error">Error</span>
           <span>1033</span>
         </h1>
         <span class="inline-block md:block heading-ray-id font-mono text-15 lg:text-sm lg:leading-relaxed">Ray ID: 91a6656696214128 &bull;</span>
         <span class="inline-block md:block heading-ray-id font-mono text-15 lg:text-sm lg:leading-relaxed">2025-03-03 04:30:00 UTC</span>
        <h2 class="text-gray-600 leading-1.3 text-3xl lg:text-2xl font-light">Cloudflare Tunnel error</h2>
      </header>

      <section class="w-240 lg:w-full mx-auto mb-8 lg:px-8">
          <div id="what-happened-section" class="w-1/2 md:w-full">
            <h2 class="text-3xl leading-tight font-normal mb-4 text-black-dark antialiased" data-translate="what_happened">What happened?</h2>
            <p>You've requested a page on a website (damages-tracking-enjoyed-wn.trycloudflare.com) that is on the <a href="https://www.cloudflare.com/5xx-error-landing/" target="_blank">Cloudflare</a> network. The host (damages-tracking-enjoyed-wn.trycloudflare.com) is configured as an Cloudflare Tunnel, and Cloudflare is currently unable to resolve it.
            
          </div>

          
          <div id="resolution-copy-section" class="w-1/2 mt-6 text-15 leading-normal">
            <h2 class="text-3xl leading-tight font-normal mb-4 text-black-dark antialiased" data-translate="what_can_i_do">What can I do?</h2>
            <p><strong>If you are a visitor of this website:</strong><br />Please try again in a few minutes.</p><p><strong>If you are the owner of this website:</strong><br />Ensure that cloudflared is running and can reach the network. You may wish to enable <a rel="noopener noreferrer" href="https://developers.cloudflare.com/cloudflare-one/connections/connect-networks/routing-to-tunnel/lb/">load balancing</a> for your tunnel.</p>
          </div>
          
      </section>

      <div class="feedback-hidden py-8 text-center" id="error-feedback">
    <div id="error-feedback-survey" class="footer-line-wrapper">
        Was this page helpful?
        <button class="border border-solid bg-white cf-button cursor-pointer ml-4 px-4 py-2 rounded" id="feedback-button-yes" type="button">Yes</button>
        <button class="border border-solid bg-white cf-button cursor-pointer ml-4 px-4 py-2 rounded" id="feedback-button-no" type="button">No</button>
    </div>
    <div class="feedback-success feedback-hidden" id="error-feedback-success">
        Thank you for your feedback!
    </div>
</div>


      <div class="cf-error-footer cf-wrapper w-240 lg:w-full py-10 sm:py-4 sm:px-8 mx-auto text-center sm:text-left border-solid border-0 border-t border-gray-300">
  <p class="text-13">
    <span class="cf-footer-item sm:block sm:mb-1">Cloudflare Ray ID: <strong class="font-semibold">91a6656696214128</strong></span>
    <span class="cf-footer-separator sm:hidden">&bull;</span>
    <span id="cf-footer-item-ip" class="cf-footer-item hidden sm:block sm:mb-1">
      Your IP:
      <button type="button" id="cf-footer-ip-reveal" class="cf-footer-ip-reveal-btn">Click to reveal</button>
      <span class="hidden" id="cf-footer-ip">2407:d000:b:62b6:d0db:3a11:ec2f:c21f</span>
      <span class="cf-footer-separator sm:hidden">&bull;</span>
    </span>
    <span class="cf-footer-item sm:block sm:mb-1"><span>Performance &amp; security by</span> <a rel="noopener noreferrer" href="https://www.cloudflare.com/5xx-error-landing" id="brand_link" target="_blank">Cloudflare</a></span>
    
  </p>
  <script>(function(){function d(){var b=a.getElementById("cf-footer-item-ip"),c=a.getElementById("cf-footer-ip-reveal");b&&"classList"in b&&(b.classList.remove("hidden"),c.addEventListener("click",function(){c.classList.add("hidden");a.getElementById("cf-footer-ip").classList.remove("hidden")}))}var a=document;document.addEventListener&&a.addEventListener("DOMContentLoaded",d)})();</script>
</div><!-- /.error-footer -->


    </div><!-- /#cf-error-details -->
  </div><!-- /#cf-wrapper -->

  <script>
  window._cf_translation = {};
  
  
</script>

</body>
</html>
2025-03-03 09:30:43.410 | ERROR    | apps.test.routes:test_llm:116 | LLM test failed: <!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en-US"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en-US"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en-US"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en-US"> <!--<![endif]-->
<head>
<title>Cloudflare Tunnel error | damages-tracking-enjoyed-wn.trycloudflare.com | Cloudflare</title>
<meta charset="UTF-8" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta name="robots" content="noindex, nofollow" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="stylesheet" id="cf_styles-css" href="/cdn-cgi/styles/main.css" />


<script>
(function(){if(document.addEventListener&&window.XMLHttpRequest&&JSON&&JSON.stringify){var e=function(a){var c=document.getElementById("error-feedback-survey"),d=document.getElementById("error-feedback-success"),b=new XMLHttpRequest;a={event:"feedback clicked",properties:{errorCode:1033,helpful:a,version:1}};b.open("POST","https://sparrow.cloudflare.com/api/v1/event");b.setRequestHeader("Content-Type","application/json");b.setRequestHeader("Sparrow-Source-Key","c771f0e4b54944bebf4261d44bd79a1e");
b.send(JSON.stringify(a));c.classList.add("feedback-hidden");d.classList.remove("feedback-hidden")};document.addEventListener("DOMContentLoaded",function(){var a=document.getElementById("error-feedback"),c=document.getElementById("feedback-button-yes"),d=document.getElementById("feedback-button-no");"classList"in a&&(a.classList.remove("feedback-hidden"),c.addEventListener("click",function(){e(!0)}),d.addEventListener("click",function(){e(!1)}))})}})();
</script>

<script defer src="https://performance.radar.cloudflare.com/beacon.js"></script>
</head>
<body>
  <div id="cf-wrapper">
    <div class="cf-alert cf-alert-error cf-cookie-error hidden" id="cookie-alert" data-translate="enable_cookies">Please enable cookies.</div>
    <div id="cf-error-details" class="p-0">
      <header class="mx-auto pt-10 lg:pt-6 lg:px-8 w-240 lg:w-full mb-15 antialiased">
         <h1 class="inline-block md:block mr-2 md:mb-2 font-light text-60 md:text-3xl text-black-dark leading-tight">
           <span data-translate="error">Error</span>
           <span>1033</span>
         </h1>
         <span class="inline-block md:block heading-ray-id font-mono text-15 lg:text-sm lg:leading-relaxed">Ray ID: 91a6667304164128 &bull;</span>
         <span class="inline-block md:block heading-ray-id font-mono text-15 lg:text-sm lg:leading-relaxed">2025-03-03 04:30:43 UTC</span>
        <h2 class="text-gray-600 leading-1.3 text-3xl lg:text-2xl font-light">Cloudflare Tunnel error</h2>
      </header>

      <section class="w-240 lg:w-full mx-auto mb-8 lg:px-8">
          <div id="what-happened-section" class="w-1/2 md:w-full">
            <h2 class="text-3xl leading-tight font-normal mb-4 text-black-dark antialiased" data-translate="what_happened">What happened?</h2>
            <p>You've requested a page on a website (damages-tracking-enjoyed-wn.trycloudflare.com) that is on the <a href="https://www.cloudflare.com/5xx-error-landing/" target="_blank">Cloudflare</a> network. The host (damages-tracking-enjoyed-wn.trycloudflare.com) is configured as an Cloudflare Tunnel, and Cloudflare is currently unable to resolve it.
            
          </div>

          
          <div id="resolution-copy-section" class="w-1/2 mt-6 text-15 leading-normal">
            <h2 class="text-3xl leading-tight font-normal mb-4 text-black-dark antialiased" data-translate="what_can_i_do">What can I do?</h2>
            <p><strong>If you are a visitor of this website:</strong><br />Please try again in a few minutes.</p><p><strong>If you are the owner of this website:</strong><br />Ensure that cloudflared is running and can reach the network. You may wish to enable <a rel="noopener noreferrer" href="https://developers.cloudflare.com/cloudflare-one/connections/connect-networks/routing-to-tunnel/lb/">load balancing</a> for your tunnel.</p>
          </div>
          
      </section>

      <div class="feedback-hidden py-8 text-center" id="error-feedback">
    <div id="error-feedback-survey" class="footer-line-wrapper">
        Was this page helpful?
        <button class="border border-solid bg-white cf-button cursor-pointer ml-4 px-4 py-2 rounded" id="feedback-button-yes" type="button">Yes</button>
        <button class="border border-solid bg-white cf-button cursor-pointer ml-4 px-4 py-2 rounded" id="feedback-button-no" type="button">No</button>
    </div>
    <div class="feedback-success feedback-hidden" id="error-feedback-success">
        Thank you for your feedback!
    </div>
</div>


      <div class="cf-error-footer cf-wrapper w-240 lg:w-full py-10 sm:py-4 sm:px-8 mx-auto text-center sm:text-left border-solid border-0 border-t border-gray-300">
  <p class="text-13">
    <span class="cf-footer-item sm:block sm:mb-1">Cloudflare Ray ID: <strong class="font-semibold">91a6667304164128</strong></span>
    <span class="cf-footer-separator sm:hidden">&bull;</span>
    <span id="cf-footer-item-ip" class="cf-footer-item hidden sm:block sm:mb-1">
      Your IP:
      <button type="button" id="cf-footer-ip-reveal" class="cf-footer-ip-reveal-btn">Click to reveal</button>
      <span class="hidden" id="cf-footer-ip">2407:d000:b:62b6:d0db:3a11:ec2f:c21f</span>
      <span class="cf-footer-separator sm:hidden">&bull;</span>
    </span>
    <span class="cf-footer-item sm:block sm:mb-1"><span>Performance &amp; security by</span> <a rel="noopener noreferrer" href="https://www.cloudflare.com/5xx-error-landing" id="brand_link" target="_blank">Cloudflare</a></span>
    
  </p>
  <script>(function(){function d(){var b=a.getElementById("cf-footer-item-ip"),c=a.getElementById("cf-footer-ip-reveal");b&&"classList"in b&&(b.classList.remove("hidden"),c.addEventListener("click",function(){c.classList.add("hidden");a.getElementById("cf-footer-ip").classList.remove("hidden")}))}var a=document;document.addEventListener&&a.addEventListener("DOMContentLoaded",d)})();</script>
</div><!-- /.error-footer -->


    </div><!-- /#cf-error-details -->
  </div><!-- /#cf-wrapper -->

  <script>
  window._cf_translation = {};
  
  
</script>

</body>
</html>
2025-03-03 09:31:15.951 | ERROR    | apps.test.routes:test_llm:116 | LLM test failed: <!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en-US"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en-US"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en-US"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en-US"> <!--<![endif]-->
<head>
<title>Cloudflare Tunnel error | damages-tracking-enjoyed-wn.trycloudflare.com | Cloudflare</title>
<meta charset="UTF-8" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta name="robots" content="noindex, nofollow" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="stylesheet" id="cf_styles-css" href="/cdn-cgi/styles/main.css" />


<script>
(function(){if(document.addEventListener&&window.XMLHttpRequest&&JSON&&JSON.stringify){var e=function(a){var c=document.getElementById("error-feedback-survey"),d=document.getElementById("error-feedback-success"),b=new XMLHttpRequest;a={event:"feedback clicked",properties:{errorCode:1033,helpful:a,version:1}};b.open("POST","https://sparrow.cloudflare.com/api/v1/event");b.setRequestHeader("Content-Type","application/json");b.setRequestHeader("Sparrow-Source-Key","c771f0e4b54944bebf4261d44bd79a1e");
b.send(JSON.stringify(a));c.classList.add("feedback-hidden");d.classList.remove("feedback-hidden")};document.addEventListener("DOMContentLoaded",function(){var a=document.getElementById("error-feedback"),c=document.getElementById("feedback-button-yes"),d=document.getElementById("feedback-button-no");"classList"in a&&(a.classList.remove("feedback-hidden"),c.addEventListener("click",function(){e(!0)}),d.addEventListener("click",function(){e(!1)}))})}})();
</script>

<script defer src="https://performance.radar.cloudflare.com/beacon.js"></script>
</head>
<body>
  <div id="cf-wrapper">
    <div class="cf-alert cf-alert-error cf-cookie-error hidden" id="cookie-alert" data-translate="enable_cookies">Please enable cookies.</div>
    <div id="cf-error-details" class="p-0">
      <header class="mx-auto pt-10 lg:pt-6 lg:px-8 w-240 lg:w-full mb-15 antialiased">
         <h1 class="inline-block md:block mr-2 md:mb-2 font-light text-60 md:text-3xl text-black-dark leading-tight">
           <span data-translate="error">Error</span>
           <span>1033</span>
         </h1>
         <span class="inline-block md:block heading-ray-id font-mono text-15 lg:text-sm lg:leading-relaxed">Ray ID: 91a6673e608e4124 &bull;</span>
         <span class="inline-block md:block heading-ray-id font-mono text-15 lg:text-sm lg:leading-relaxed">2025-03-03 04:31:16 UTC</span>
        <h2 class="text-gray-600 leading-1.3 text-3xl lg:text-2xl font-light">Cloudflare Tunnel error</h2>
      </header>

      <section class="w-240 lg:w-full mx-auto mb-8 lg:px-8">
          <div id="what-happened-section" class="w-1/2 md:w-full">
            <h2 class="text-3xl leading-tight font-normal mb-4 text-black-dark antialiased" data-translate="what_happened">What happened?</h2>
            <p>You've requested a page on a website (damages-tracking-enjoyed-wn.trycloudflare.com) that is on the <a href="https://www.cloudflare.com/5xx-error-landing/" target="_blank">Cloudflare</a> network. The host (damages-tracking-enjoyed-wn.trycloudflare.com) is configured as an Cloudflare Tunnel, and Cloudflare is currently unable to resolve it.
            
          </div>

          
          <div id="resolution-copy-section" class="w-1/2 mt-6 text-15 leading-normal">
            <h2 class="text-3xl leading-tight font-normal mb-4 text-black-dark antialiased" data-translate="what_can_i_do">What can I do?</h2>
            <p><strong>If you are a visitor of this website:</strong><br />Please try again in a few minutes.</p><p><strong>If you are the owner of this website:</strong><br />Ensure that cloudflared is running and can reach the network. You may wish to enable <a rel="noopener noreferrer" href="https://developers.cloudflare.com/cloudflare-one/connections/connect-networks/routing-to-tunnel/lb/">load balancing</a> for your tunnel.</p>
          </div>
          
      </section>

      <div class="feedback-hidden py-8 text-center" id="error-feedback">
    <div id="error-feedback-survey" class="footer-line-wrapper">
        Was this page helpful?
        <button class="border border-solid bg-white cf-button cursor-pointer ml-4 px-4 py-2 rounded" id="feedback-button-yes" type="button">Yes</button>
        <button class="border border-solid bg-white cf-button cursor-pointer ml-4 px-4 py-2 rounded" id="feedback-button-no" type="button">No</button>
    </div>
    <div class="feedback-success feedback-hidden" id="error-feedback-success">
        Thank you for your feedback!
    </div>
</div>


      <div class="cf-error-footer cf-wrapper w-240 lg:w-full py-10 sm:py-4 sm:px-8 mx-auto text-center sm:text-left border-solid border-0 border-t border-gray-300">
  <p class="text-13">
    <span class="cf-footer-item sm:block sm:mb-1">Cloudflare Ray ID: <strong class="font-semibold">91a6673e608e4124</strong></span>
    <span class="cf-footer-separator sm:hidden">&bull;</span>
    <span id="cf-footer-item-ip" class="cf-footer-item hidden sm:block sm:mb-1">
      Your IP:
      <button type="button" id="cf-footer-ip-reveal" class="cf-footer-ip-reveal-btn">Click to reveal</button>
      <span class="hidden" id="cf-footer-ip">2407:d000:b:62b6:d0db:3a11:ec2f:c21f</span>
      <span class="cf-footer-separator sm:hidden">&bull;</span>
    </span>
    <span class="cf-footer-item sm:block sm:mb-1"><span>Performance &amp; security by</span> <a rel="noopener noreferrer" href="https://www.cloudflare.com/5xx-error-landing" id="brand_link" target="_blank">Cloudflare</a></span>
    
  </p>
  <script>(function(){function d(){var b=a.getElementById("cf-footer-item-ip"),c=a.getElementById("cf-footer-ip-reveal");b&&"classList"in b&&(b.classList.remove("hidden"),c.addEventListener("click",function(){c.classList.add("hidden");a.getElementById("cf-footer-ip").classList.remove("hidden")}))}var a=document;document.addEventListener&&a.addEventListener("DOMContentLoaded",d)})();</script>
</div><!-- /.error-footer -->


    </div><!-- /#cf-error-details -->
  </div><!-- /#cf-wrapper -->

  <script>
  window._cf_translation = {};
  
  
</script>

</body>
</html>
2025-03-03 09:31:37.315 | ERROR    | apps.test.routes:test_llm:116 | LLM test failed: <!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en-US"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en-US"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en-US"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en-US"> <!--<![endif]-->
<head>
<title>Cloudflare Tunnel error | damages-tracking-enjoyed-wn.trycloudflare.com | Cloudflare</title>
<meta charset="UTF-8" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta name="robots" content="noindex, nofollow" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="stylesheet" id="cf_styles-css" href="/cdn-cgi/styles/main.css" />


<script>
(function(){if(document.addEventListener&&window.XMLHttpRequest&&JSON&&JSON.stringify){var e=function(a){var c=document.getElementById("error-feedback-survey"),d=document.getElementById("error-feedback-success"),b=new XMLHttpRequest;a={event:"feedback clicked",properties:{errorCode:1033,helpful:a,version:1}};b.open("POST","https://sparrow.cloudflare.com/api/v1/event");b.setRequestHeader("Content-Type","application/json");b.setRequestHeader("Sparrow-Source-Key","c771f0e4b54944bebf4261d44bd79a1e");
b.send(JSON.stringify(a));c.classList.add("feedback-hidden");d.classList.remove("feedback-hidden")};document.addEventListener("DOMContentLoaded",function(){var a=document.getElementById("error-feedback"),c=document.getElementById("feedback-button-yes"),d=document.getElementById("feedback-button-no");"classList"in a&&(a.classList.remove("feedback-hidden"),c.addEventListener("click",function(){e(!0)}),d.addEventListener("click",function(){e(!1)}))})}})();
</script>

<script defer src="https://performance.radar.cloudflare.com/beacon.js"></script>
</head>
<body>
  <div id="cf-wrapper">
    <div class="cf-alert cf-alert-error cf-cookie-error hidden" id="cookie-alert" data-translate="enable_cookies">Please enable cookies.</div>
    <div id="cf-error-details" class="p-0">
      <header class="mx-auto pt-10 lg:pt-6 lg:px-8 w-240 lg:w-full mb-15 antialiased">
         <h1 class="inline-block md:block mr-2 md:mb-2 font-light text-60 md:text-3xl text-black-dark leading-tight">
           <span data-translate="error">Error</span>
           <span>1033</span>
         </h1>
         <span class="inline-block md:block heading-ray-id font-mono text-15 lg:text-sm lg:leading-relaxed">Ray ID: 91a667c3f7334128 &bull;</span>
         <span class="inline-block md:block heading-ray-id font-mono text-15 lg:text-sm lg:leading-relaxed">2025-03-03 04:31:37 UTC</span>
        <h2 class="text-gray-600 leading-1.3 text-3xl lg:text-2xl font-light">Cloudflare Tunnel error</h2>
      </header>

      <section class="w-240 lg:w-full mx-auto mb-8 lg:px-8">
          <div id="what-happened-section" class="w-1/2 md:w-full">
            <h2 class="text-3xl leading-tight font-normal mb-4 text-black-dark antialiased" data-translate="what_happened">What happened?</h2>
            <p>You've requested a page on a website (damages-tracking-enjoyed-wn.trycloudflare.com) that is on the <a href="https://www.cloudflare.com/5xx-error-landing/" target="_blank">Cloudflare</a> network. The host (damages-tracking-enjoyed-wn.trycloudflare.com) is configured as an Cloudflare Tunnel, and Cloudflare is currently unable to resolve it.
            
          </div>

          
          <div id="resolution-copy-section" class="w-1/2 mt-6 text-15 leading-normal">
            <h2 class="text-3xl leading-tight font-normal mb-4 text-black-dark antialiased" data-translate="what_can_i_do">What can I do?</h2>
            <p><strong>If you are a visitor of this website:</strong><br />Please try again in a few minutes.</p><p><strong>If you are the owner of this website:</strong><br />Ensure that cloudflared is running and can reach the network. You may wish to enable <a rel="noopener noreferrer" href="https://developers.cloudflare.com/cloudflare-one/connections/connect-networks/routing-to-tunnel/lb/">load balancing</a> for your tunnel.</p>
          </div>
          
      </section>

      <div class="feedback-hidden py-8 text-center" id="error-feedback">
    <div id="error-feedback-survey" class="footer-line-wrapper">
        Was this page helpful?
        <button class="border border-solid bg-white cf-button cursor-pointer ml-4 px-4 py-2 rounded" id="feedback-button-yes" type="button">Yes</button>
        <button class="border border-solid bg-white cf-button cursor-pointer ml-4 px-4 py-2 rounded" id="feedback-button-no" type="button">No</button>
    </div>
    <div class="feedback-success feedback-hidden" id="error-feedback-success">
        Thank you for your feedback!
    </div>
</div>


      <div class="cf-error-footer cf-wrapper w-240 lg:w-full py-10 sm:py-4 sm:px-8 mx-auto text-center sm:text-left border-solid border-0 border-t border-gray-300">
  <p class="text-13">
    <span class="cf-footer-item sm:block sm:mb-1">Cloudflare Ray ID: <strong class="font-semibold">91a667c3f7334128</strong></span>
    <span class="cf-footer-separator sm:hidden">&bull;</span>
    <span id="cf-footer-item-ip" class="cf-footer-item hidden sm:block sm:mb-1">
      Your IP:
      <button type="button" id="cf-footer-ip-reveal" class="cf-footer-ip-reveal-btn">Click to reveal</button>
      <span class="hidden" id="cf-footer-ip">2407:d000:b:62b6:d0db:3a11:ec2f:c21f</span>
      <span class="cf-footer-separator sm:hidden">&bull;</span>
    </span>
    <span class="cf-footer-item sm:block sm:mb-1"><span>Performance &amp; security by</span> <a rel="noopener noreferrer" href="https://www.cloudflare.com/5xx-error-landing" id="brand_link" target="_blank">Cloudflare</a></span>
    
  </p>
  <script>(function(){function d(){var b=a.getElementById("cf-footer-item-ip"),c=a.getElementById("cf-footer-ip-reveal");b&&"classList"in b&&(b.classList.remove("hidden"),c.addEventListener("click",function(){c.classList.add("hidden");a.getElementById("cf-footer-ip").classList.remove("hidden")}))}var a=document;document.addEventListener&&a.addEventListener("DOMContentLoaded",d)})();</script>
</div><!-- /.error-footer -->


    </div><!-- /#cf-error-details -->
  </div><!-- /#cf-wrapper -->

  <script>
  window._cf_translation = {};
  
  
</script>

</body>
</html>
2025-03-03 09:35:30.584 | ERROR    | apps.test.routes:test_llm:116 | LLM test failed: <!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en-US"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en-US"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en-US"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en-US"> <!--<![endif]-->
<head>
<title>Cloudflare Tunnel error | damages-tracking-enjoyed-wn.trycloudflare.com | Cloudflare</title>
<meta charset="UTF-8" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta name="robots" content="noindex, nofollow" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="stylesheet" id="cf_styles-css" href="/cdn-cgi/styles/main.css" />


<script>
(function(){if(document.addEventListener&&window.XMLHttpRequest&&JSON&&JSON.stringify){var e=function(a){var c=document.getElementById("error-feedback-survey"),d=document.getElementById("error-feedback-success"),b=new XMLHttpRequest;a={event:"feedback clicked",properties:{errorCode:1033,helpful:a,version:1}};b.open("POST","https://sparrow.cloudflare.com/api/v1/event");b.setRequestHeader("Content-Type","application/json");b.setRequestHeader("Sparrow-Source-Key","c771f0e4b54944bebf4261d44bd79a1e");
b.send(JSON.stringify(a));c.classList.add("feedback-hidden");d.classList.remove("feedback-hidden")};document.addEventListener("DOMContentLoaded",function(){var a=document.getElementById("error-feedback"),c=document.getElementById("feedback-button-yes"),d=document.getElementById("feedback-button-no");"classList"in a&&(a.classList.remove("feedback-hidden"),c.addEventListener("click",function(){e(!0)}),d.addEventListener("click",function(){e(!1)}))})}})();
</script>

<script defer src="https://performance.radar.cloudflare.com/beacon.js"></script>
</head>
<body>
  <div id="cf-wrapper">
    <div class="cf-alert cf-alert-error cf-cookie-error hidden" id="cookie-alert" data-translate="enable_cookies">Please enable cookies.</div>
    <div id="cf-error-details" class="p-0">
      <header class="mx-auto pt-10 lg:pt-6 lg:px-8 w-240 lg:w-full mb-15 antialiased">
         <h1 class="inline-block md:block mr-2 md:mb-2 font-light text-60 md:text-3xl text-black-dark leading-tight">
           <span data-translate="error">Error</span>
           <span>1033</span>
         </h1>
         <span class="inline-block md:block heading-ray-id font-mono text-15 lg:text-sm lg:leading-relaxed">Ray ID: 91a66d75d15d4128 &bull;</span>
         <span class="inline-block md:block heading-ray-id font-mono text-15 lg:text-sm lg:leading-relaxed">2025-03-03 04:35:30 UTC</span>
        <h2 class="text-gray-600 leading-1.3 text-3xl lg:text-2xl font-light">Cloudflare Tunnel error</h2>
      </header>

      <section class="w-240 lg:w-full mx-auto mb-8 lg:px-8">
          <div id="what-happened-section" class="w-1/2 md:w-full">
            <h2 class="text-3xl leading-tight font-normal mb-4 text-black-dark antialiased" data-translate="what_happened">What happened?</h2>
            <p>You've requested a page on a website (damages-tracking-enjoyed-wn.trycloudflare.com) that is on the <a href="https://www.cloudflare.com/5xx-error-landing/" target="_blank">Cloudflare</a> network. The host (damages-tracking-enjoyed-wn.trycloudflare.com) is configured as an Cloudflare Tunnel, and Cloudflare is currently unable to resolve it.
            
          </div>

          
          <div id="resolution-copy-section" class="w-1/2 mt-6 text-15 leading-normal">
            <h2 class="text-3xl leading-tight font-normal mb-4 text-black-dark antialiased" data-translate="what_can_i_do">What can I do?</h2>
            <p><strong>If you are a visitor of this website:</strong><br />Please try again in a few minutes.</p><p><strong>If you are the owner of this website:</strong><br />Ensure that cloudflared is running and can reach the network. You may wish to enable <a rel="noopener noreferrer" href="https://developers.cloudflare.com/cloudflare-one/connections/connect-networks/routing-to-tunnel/lb/">load balancing</a> for your tunnel.</p>
          </div>
          
      </section>

      <div class="feedback-hidden py-8 text-center" id="error-feedback">
    <div id="error-feedback-survey" class="footer-line-wrapper">
        Was this page helpful?
        <button class="border border-solid bg-white cf-button cursor-pointer ml-4 px-4 py-2 rounded" id="feedback-button-yes" type="button">Yes</button>
        <button class="border border-solid bg-white cf-button cursor-pointer ml-4 px-4 py-2 rounded" id="feedback-button-no" type="button">No</button>
    </div>
    <div class="feedback-success feedback-hidden" id="error-feedback-success">
        Thank you for your feedback!
    </div>
</div>


      <div class="cf-error-footer cf-wrapper w-240 lg:w-full py-10 sm:py-4 sm:px-8 mx-auto text-center sm:text-left border-solid border-0 border-t border-gray-300">
  <p class="text-13">
    <span class="cf-footer-item sm:block sm:mb-1">Cloudflare Ray ID: <strong class="font-semibold">91a66d75d15d4128</strong></span>
    <span class="cf-footer-separator sm:hidden">&bull;</span>
    <span id="cf-footer-item-ip" class="cf-footer-item hidden sm:block sm:mb-1">
      Your IP:
      <button type="button" id="cf-footer-ip-reveal" class="cf-footer-ip-reveal-btn">Click to reveal</button>
      <span class="hidden" id="cf-footer-ip">2407:d000:b:62b6:d0db:3a11:ec2f:c21f</span>
      <span class="cf-footer-separator sm:hidden">&bull;</span>
    </span>
    <span class="cf-footer-item sm:block sm:mb-1"><span>Performance &amp; security by</span> <a rel="noopener noreferrer" href="https://www.cloudflare.com/5xx-error-landing" id="brand_link" target="_blank">Cloudflare</a></span>
    
  </p>
  <script>(function(){function d(){var b=a.getElementById("cf-footer-item-ip"),c=a.getElementById("cf-footer-ip-reveal");b&&"classList"in b&&(b.classList.remove("hidden"),c.addEventListener("click",function(){c.classList.add("hidden");a.getElementById("cf-footer-ip").classList.remove("hidden")}))}var a=document;document.addEventListener&&a.addEventListener("DOMContentLoaded",d)})();</script>
</div><!-- /.error-footer -->


    </div><!-- /#cf-error-details -->
  </div><!-- /#cf-wrapper -->

  <script>
  window._cf_translation = {};
  
  
</script>

</body>
</html>
2025-03-03 09:37:22.869 | ERROR    | apps.rag.services:_generate_search_queries:451 | Error generating search queries: 
2025-03-03 09:38:03.727 | ERROR    | apps.rag.services:_generate_search_queries:451 | Error generating search queries: 
2025-03-03 09:40:11.833 | ERROR    | apps.rag.services:_generate_search_queries:440 | Failed to parse search queries: Expecting value: line 1 column 1 (char 0)
2025-03-04 10:03:47.143 | ERROR    | __main__:reset_vector_store:48 | Error resetting vector store: <MilvusException: (code=65535, message=CreateIndex failed: at most one distinct index is allowed per field)>
2025-03-04 10:04:09.795 | ERROR    | __main__:reset_vector_store:48 | Error resetting vector store: <MilvusException: (code=65535, message=CreateIndex failed: at most one distinct index is allowed per field)>
2025-03-04 10:31:44.768 | ERROR    | __main__:check_collection:51 | Error checking collection: 'Collection' object has no attribute 'stats'
2025-04-15 05:01:37.367 | ERROR    | core.vector_store.manager:initialize:58 | Failed to initialize vector store: Could not import faiss python package. Please install it with `pip install faiss-gpu` (for CUDA supported GPU) or `pip install faiss-cpu` (depending on Python version).
2025-04-15 05:01:37.367 | ERROR    | apps.chat.routes:upload_attachments:368 | Error in file upload: Could not import faiss python package. Please install it with `pip install faiss-gpu` (for CUDA supported GPU) or `pip install faiss-cpu` (depending on Python version).
2025-04-15 05:01:37.375 | ERROR    | core.middleware:error_handler:11 | Unhandled error: APIError.__init__() got an unexpected keyword argument 'error'
2025-04-15 05:06:44.687 | ERROR    | core.vector_store.manager:initialize:58 | Failed to initialize vector store: Could not import faiss python package. Please install it with `pip install faiss-gpu` (for CUDA supported GPU) or `pip install faiss-cpu` (depending on Python version).
2025-04-15 05:06:44.687 | ERROR    | apps.chat.routes:upload_attachments:368 | Error in file upload: Could not import faiss python package. Please install it with `pip install faiss-gpu` (for CUDA supported GPU) or `pip install faiss-cpu` (depending on Python version).
2025-04-15 05:06:44.691 | ERROR    | core.middleware:error_handler:11 | Unhandled error: APIError.__init__() got an unexpected keyword argument 'error'
2025-04-15 05:47:02.680 | ERROR    | core.vector_store.manager:initialize:58 | Failed to initialize vector store: Could not import faiss python package. Please install it with `pip install faiss-gpu` (for CUDA supported GPU) or `pip install faiss-cpu` (depending on Python version).
2025-04-15 05:47:02.680 | ERROR    | apps.chat.routes:upload_attachments:368 | Error in file upload: Could not import faiss python package. Please install it with `pip install faiss-gpu` (for CUDA supported GPU) or `pip install faiss-cpu` (depending on Python version).
2025-04-15 05:47:02.680 | ERROR    | core.middleware:error_handler:11 | Unhandled error: APIError.__init__() got an unexpected keyword argument 'error'
2025-04-15 05:58:48.115 | ERROR    | core.vector_store.manager:initialize:58 | Failed to initialize vector store: Could not import faiss python package. Please install it with `pip install faiss-gpu` (for CUDA supported GPU) or `pip install faiss-cpu` (depending on Python version).
2025-04-15 05:58:48.117 | ERROR    | apps.chat.routes:upload_attachments:368 | Error in file upload: Could not import faiss python package. Please install it with `pip install faiss-gpu` (for CUDA supported GPU) or `pip install faiss-cpu` (depending on Python version).
2025-04-15 05:58:48.120 | ERROR    | core.middleware:error_handler:11 | Unhandled error: APIError.__init__() got an unexpected keyword argument 'error'
2025-04-15 06:17:03.356 | ERROR    | core.search.reranker:rerank_results:76 | Error during reranking: type object 'ArabicTextProcessor' has no attribute 'ARABIC_STOPWORDS'
2025-04-15 06:17:04.685 | ERROR    | apps.rag.services:generate_response:534 | Error generating response: cannot access local variable 'main_text' where it is not associated with a value
2025-04-15 06:34:09.730 | ERROR    | core.search.reranker:rerank_results:76 | Error during reranking: type object 'ArabicTextProcessor' has no attribute 'ARABIC_STOPWORDS'
2025-04-15 07:27:24.243 | ERROR    | apps.rag.services:extract_file_content:85 | Error extracting content from file: get_text() got an unexpected keyword argument 'encoding'
2025-04-15 07:27:24.243 | ERROR    | apps.rag.services:process_document:159 | Error processing document: get_text() got an unexpected keyword argument 'encoding'
2025-04-15 07:27:24.243 | ERROR    | apps.rag.services:process_attachments:766 | Error processing document 3-2-ar-Procedures_of_suspending_the_trading_of_listed_securities (1).pdf: get_text() got an unexpected keyword argument 'encoding'
2025-04-15 07:40:00.593 | ERROR    | apps.rag.services:extract_file_content:85 | Error extracting content from file: get_text() got an unexpected keyword argument 'encoding'
2025-04-15 07:40:00.593 | ERROR    | apps.rag.services:process_document:159 | Error processing document: get_text() got an unexpected keyword argument 'encoding'
2025-04-15 07:40:00.593 | ERROR    | apps.rag.services:process_attachments:766 | Error processing document 3-2-ar-Procedures_of_suspending_the_trading_of_listed_securities (1).pdf: get_text() got an unexpected keyword argument 'encoding'
2025-04-15 07:42:40.897 | ERROR    | apps.rag.services:extract_file_content:85 | Error extracting content from file: get_text() got an unexpected keyword argument 'encoding'
2025-04-15 07:42:40.897 | ERROR    | apps.rag.services:process_document:159 | Error processing document: get_text() got an unexpected keyword argument 'encoding'
2025-04-15 07:42:40.897 | ERROR    | apps.rag.services:process_attachments:766 | Error processing document 3-2-ar-Procedures_of_suspending_the_trading_of_listed_securities (1).pdf: get_text() got an unexpected keyword argument 'encoding'
2025-04-15 07:55:09.023 | ERROR    | apps.rag.services:extract_file_content:81 | Error extracting content from file: get_text() got an unexpected keyword argument 'encoding'
2025-04-15 07:55:09.025 | ERROR    | apps.rag.services:process_document:155 | Error processing document: get_text() got an unexpected keyword argument 'encoding'
2025-04-15 07:55:09.025 | ERROR    | apps.rag.services:process_attachments:762 | Error processing document 3-2-ar-Procedures_of_suspending_the_trading_of_listed_securities (1).pdf: get_text() got an unexpected keyword argument 'encoding'
2025-04-15 10:16:01.379 | ERROR    | apps.rag.services:extract_file_content:98 | Error extracting content from file: Document.__init__() got an unexpected keyword argument 'encoding'
2025-04-15 10:16:01.379 | ERROR    | apps.rag.services:process_document:172 | Error processing document: Document.__init__() got an unexpected keyword argument 'encoding'
2025-04-15 10:16:01.389 | ERROR    | apps.rag.services:process_attachments:779 | Error processing document 3-2-ar-Procedures_of_suspending_the_trading_of_listed_securities (1).pdf: Document.__init__() got an unexpected keyword argument 'encoding'
2025-04-15 11:02:47.655 | ERROR    | apps.rag.services:extract_file_content:78 | Error extracting content from file: name 'PDFExtractor' is not defined
2025-04-15 11:02:47.656 | ERROR    | apps.rag.services:process_document:152 | Error processing document: name 'PDFExtractor' is not defined
2025-04-15 11:02:47.656 | ERROR    | apps.rag.services:process_attachments:759 | Error processing document 3-2-ar-Procedures_of_suspending_the_trading_of_listed_securities (1).pdf: name 'PDFExtractor' is not defined
2025-04-15 11:10:01.279 | ERROR    | apps.chat.routes:process_query:494 | Error processing query: APIError.__init__() got an unexpected keyword argument 'error'
2025-04-15 11:10:48.042 | ERROR    | apps.chat.routes:process_query:494 | Error processing query: APIError.__init__() got an unexpected keyword argument 'error'
2025-04-15 11:15:46.271 | ERROR    | core.search.reranker:rerank_results:76 | Error during reranking: type object 'ArabicTextProcessor' has no attribute 'ARABIC_STOPWORDS'
2025-04-15 11:27:31.263 | ERROR    | core.search.reranker:rerank_results:76 | Error during reranking: type object 'ArabicTextProcessor' has no attribute 'ARABIC_STOPWORDS'
2025-04-15 13:54:04.411 | ERROR    | apps.rag.services:extract_file_content:82 | Error extracting content from file: can only concatenate str (not "dict") to str
2025-04-15 13:54:04.411 | ERROR    | apps.rag.services:process_document:156 | Error processing document: can only concatenate str (not "dict") to str
2025-04-15 13:54:04.427 | ERROR    | apps.rag.services:process_attachments:763 | Error processing document 3-2-ar-Procedures_of_suspending_the_trading_of_listed_securities (1).pdf: can only concatenate str (not "dict") to str
2025-04-16 05:25:12.139 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-16 05:25:12.140 | ERROR    | __main__:lifespan:33 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-16 06:16:12.459 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-16 06:16:12.459 | ERROR    | __main__:lifespan:33 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-16 06:18:48.301 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-16 06:18:48.301 | ERROR    | __main__:lifespan:33 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-16 06:20:47.248 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-16 06:20:47.249 | ERROR    | __main__:lifespan:33 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-16 06:49:59.360 | ERROR    | core.search.reranker:rerank_results:76 | Error during reranking: type object 'ArabicTextProcessor' has no attribute 'ARABIC_STOPWORDS'
2025-04-16 07:04:16.010 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: 
2025-04-20 14:55:11.604 | ERROR    | apps.rag.services:__init__:51 | Failed to initialize RAGService: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
2025-04-20 15:10:57.858 | ERROR    | apps.rag.services:__init__:51 | Failed to initialize RAGService: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
2025-04-20 18:20:27.451 | ERROR    | core.middleware:error_handler:11 | Unhandled error: (sqlite3.IntegrityError) NOT NULL constraint failed: user.username
[SQL: INSERT INTO user (id, username, email, hashed_password, first_name, last_name, age, is_active, created_at, updated_at, organization_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('e7ad76cac82c4dd7b356d10fd81dfd7b', None, 'test@example.com', 'DEVELOPMENT_MODE_NO_PASSWORD', 'Test', 'User', None, 1, '2025-04-20 15:20:27.443820', '2025-04-20 15:20:27.443820', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-04-20 18:21:08.303 | ERROR    | core.middleware:error_handler:11 | Unhandled error: (sqlite3.IntegrityError) NOT NULL constraint failed: user.username
[SQL: INSERT INTO user (id, username, email, hashed_password, first_name, last_name, age, is_active, created_at, updated_at, organization_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('8e92aafd46384dbc9f2cce7730f9ab88', None, 'test@example.com', 'DEVELOPMENT_MODE_NO_PASSWORD', 'Test', 'User', None, 1, '2025-04-20 15:21:08.303274', '2025-04-20 15:21:08.303274', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-04-20 18:26:56.131 | ERROR    | core.middleware:error_handler:11 | Unhandled error: (sqlite3.IntegrityError) NOT NULL constraint failed: user.username
[SQL: INSERT INTO user (id, username, email, hashed_password, first_name, last_name, age, is_active, created_at, updated_at, organization_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('543be5e6eb10405ead23617e420b43b5', None, 'test@example.com', 'DEVELOPMENT_MODE_NO_PASSWORD', 'Test', 'User', None, 1, '2025-04-20 15:26:56.128689', '2025-04-20 15:26:56.128689', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-04-20 19:13:24.847 | ERROR    | apps.rag.services:index_document:940 | Error indexing document: (sqlite3.IntegrityError) NOT NULL constraint failed: document.created_by_id
[SQL: INSERT INTO document (id, title, content, doc_metadata, status, vector_ids, conversation_id, created_by_id, created_at, updated_at, current_status, is_searchable) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('cd752c98073a483f8f1519d99ccbef82', 'Amended Securities Business Regulations-ar.pdf', '', '{}', 'PROCESSING', '[]', '5c78412306fd46d3a747e0463b074e72', None, '2025-04-20 16:13:24.625524', '2025-04-20 16:13:24.625524', 'QUEUED', 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-04-20 19:13:24.859 | ERROR    | core.db:get_session_context:65 | Async database session error: (sqlite3.IntegrityError) NOT NULL constraint failed: document.created_by_id
[SQL: INSERT INTO document (id, title, content, doc_metadata, status, vector_ids, conversation_id, created_by_id, created_at, updated_at, current_status, is_searchable) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('cd752c98073a483f8f1519d99ccbef82', 'Amended Securities Business Regulations-ar.pdf', '', '{}', 'PROCESSING', '[]', '5c78412306fd46d3a747e0463b074e72', None, '2025-04-20 16:13:24.625524', '2025-04-20 16:13:24.625524', 'QUEUED', 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-04-20 19:13:24.864 | ERROR    | main:process_file:248 | Error indexing document: Database operation failed
2025-04-20 19:14:11.996 | ERROR    | apps.rag.services:index_document:940 | Error indexing document: (sqlite3.IntegrityError) NOT NULL constraint failed: document.created_by_id
[SQL: INSERT INTO document (id, title, content, doc_metadata, status, vector_ids, conversation_id, created_by_id, created_at, updated_at, current_status, is_searchable) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('9f0e3ac2962741f887ce3ecf55ed4e2c', 'PC procedures - AR.pdf', '', '{}', 'PROCESSING', '[]', 'f24d520990194891b785bb1a662df7e8', None, '2025-04-20 16:14:11.980631', '2025-04-20 16:14:11.980631', 'QUEUED', 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-04-20 19:14:11.996 | ERROR    | core.db:get_session_context:65 | Async database session error: (sqlite3.IntegrityError) NOT NULL constraint failed: document.created_by_id
[SQL: INSERT INTO document (id, title, content, doc_metadata, status, vector_ids, conversation_id, created_by_id, created_at, updated_at, current_status, is_searchable) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('9f0e3ac2962741f887ce3ecf55ed4e2c', 'PC procedures - AR.pdf', '', '{}', 'PROCESSING', '[]', 'f24d520990194891b785bb1a662df7e8', None, '2025-04-20 16:14:11.980631', '2025-04-20 16:14:11.980631', 'QUEUED', 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-04-20 19:14:11.996 | ERROR    | main:process_file:248 | Error indexing document: Database operation failed
2025-04-20 19:19:25.540 | ERROR    | core.vector_store.manager:initialize:58 | Failed to initialize vector store: The paging file is too small for this operation to complete. (os error 1455)
2025-04-20 19:19:25.540 | ERROR    | apps.rag.services:process_document:162 | Error processing document: The paging file is too small for this operation to complete. (os error 1455)
2025-04-20 19:19:25.540 | ERROR    | apps.rag.services:index_document:953 | Error indexing document: The paging file is too small for this operation to complete. (os error 1455)
2025-04-20 19:19:25.551 | ERROR    | core.db:get_session_context:65 | Async database session error: The paging file is too small for this operation to complete. (os error 1455)
2025-04-20 19:19:25.556 | ERROR    | main:process_file:251 | Error indexing document: Database operation failed
2025-04-20 21:07:17.940 | ERROR    | apps.chat.routes:process_query:496 | Error processing query: APIError.__init__() got an unexpected keyword argument 'error'
2025-04-21 06:59:23.198 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-21 06:59:23.198 | ERROR    | main:lifespan:43 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-21 07:15:08.459 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-21 07:15:08.460 | ERROR    | main:lifespan:43 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-21 07:21:28.441 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-21 07:21:28.443 | ERROR    | main:lifespan:43 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-21 07:21:52.453 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-21 07:21:52.453 | ERROR    | main:lifespan:43 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-21 16:38:37.801 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: 
2025-04-21 16:40:14.370 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: 
2025-04-22 16:58:34.989 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: 
2025-04-22 18:26:53.323 | ERROR    | main:process_document_in_background:398 | Error processing document 7344fe63-5683-4c5b-af64-b5f8903ce096: 'Document' object has no attribute 'source'
2025-04-22 18:27:18.512 | ERROR    | apps.chat.routes:chat_query:563 | Error retrieving documents: badly formed hexadecimal UUID string
2025-04-22 19:19:46.169 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: 
2025-04-22 19:19:53.349 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: 
2025-04-22 19:19:55.746 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: 
2025-04-22 19:34:25.088 | ERROR    | apps.chat.routes:chat_query:788 | Error in RAG processing: 'Document' object has no attribute 'source'
2025-04-22 21:01:40.807 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: 
2025-04-22 22:35:26.081 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: 
2025-04-23 10:28:03.797 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: 
2025-04-23 11:41:06.915 | ERROR    | main:query_document:629 | Error processing query: Textual SQL expression 'SELECT * FROM document WH...' should be explicitly declared as text('SELECT * FROM document WH...')
2025-04-23 11:43:45.849 | ERROR    | main:query_document:629 | Error processing query: Textual SQL expression 'SELECT * FROM document WH...' should be explicitly declared as text('SELECT * FROM document WH...')
2025-04-23 11:44:02.977 | ERROR    | main:query_document:629 | Error processing query: Textual SQL expression 'SELECT * FROM document WH...' should be explicitly declared as text('SELECT * FROM document WH...')
2025-04-23 18:17:38.546 | ERROR    | apps.chat.routes:clear_all_conversations:1053 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:17:38.653 | ERROR    | apps.chat.routes:clear_all_conversations:1053 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:17:38.756 | ERROR    | apps.chat.routes:clear_all_conversations:1053 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:17:38.822 | ERROR    | apps.chat.routes:clear_all_conversations:1053 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:17:38.881 | ERROR    | apps.chat.routes:clear_all_conversations:1053 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:17:38.931 | ERROR    | apps.chat.routes:clear_all_conversations:1053 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:17:38.992 | ERROR    | apps.chat.routes:clear_all_conversations:1053 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:17:39.046 | ERROR    | apps.chat.routes:clear_all_conversations:1053 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:17:39.096 | ERROR    | apps.chat.routes:clear_all_conversations:1053 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:17:39.169 | ERROR    | apps.chat.routes:clear_all_conversations:1053 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:17:39.219 | ERROR    | apps.chat.routes:clear_all_conversations:1077 | Error clearing conversations: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(sqlite3.IntegrityError) NOT NULL constraint failed: chunk.document_id
[SQL: UPDATE chunk SET document_id=? WHERE chunk.id = ?]
[parameters: [(None, '01b06931c3bd48afa6c2799fbab5028a'), (None, '0812e91cf81d4f13b1d8973fc098880a'), (None, '0d4ec7bf1ba94bf18f7697b8d3ab05a9'), (None, '1a7e8cb79e614fec864dd182ee6edb93'), (None, '2439b4f955884fa9a916f32c713dfd98'), (None, '2bbe8d287b074cd085ec700a6644ff23'), (None, '2f455fe80c8545a195614cf8327abfc3'), (None, '302ab7246e8a4526a842141f59e8e6f6')  ... displaying 10 of 22 total bound parameter sets ...  (None, 'fb3e1b20edaa4ab4a8cab23655933f21'), (None, 'fd50459ad550479a85a88647f9091e16')]]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-04-23 18:25:09.393 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:09.472 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:09.546 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:09.621 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:09.689 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:09.763 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:09.845 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:09.920 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:10.001 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:10.100 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:10.206 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:10.280 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:10.346 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:10.396 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:10.444 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:10.516 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:10.548 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:10.575 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:10.608 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:10.648 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:10.690 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:10.732 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:10.781 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:10.842 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:10.888 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:10.947 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:10.980 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.012 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.045 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.078 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.103 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.137 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.168 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.209 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.238 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.268 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.301 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.326 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.362 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.390 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.415 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.448 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.481 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.507 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.538 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.571 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.605 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.645 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.670 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.694 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.719 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.752 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-23 18:25:11.777 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-26 13:27:20.045 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: 
2025-04-27 12:25:44.557 | ERROR    | main:initialize_chat:261 | Error processing small document: 'NoneType' object has no attribute 'initialize'
2025-04-27 12:28:14.752 | ERROR    | apps.chat.routes:chat_query:868 | Error processing query: 'NoneType' object has no attribute 'initialize'
2025-04-27 12:29:36.629 | ERROR    | apps.chat.routes:chat_query:868 | Error processing query: 'NoneType' object has no attribute 'initialize'
2025-04-27 12:31:18.079 | ERROR    | apps.chat.routes:chat_query:868 | Error processing query: 'NoneType' object has no attribute 'initialize'
2025-04-27 12:40:25.853 | ERROR    | apps.chat.routes:chat_query:878 | Error processing query: 'NoneType' object has no attribute 'initialize'
2025-04-27 12:44:13.098 | ERROR    | apps.chat.routes:chat_query:868 | Error processing query: 'NoneType' object has no attribute 'initialize'
2025-04-28 16:03:08.929 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: 
2025-04-28 16:14:01.922 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-28 16:14:02.160 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-28 16:14:02.213 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-28 16:14:02.264 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-28 16:14:02.311 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-28 16:14:02.358 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-28 16:14:02.423 | ERROR    | apps.chat.routes:clear_all_conversations:1066 | Error deleting document from vector store: 'RAGService' object has no attribute 'delete_document'
2025-04-29 10:07:27.395 | ERROR    | apps.rag.services:__init__:53 | Failed to initialize RAGService: Unsupported LLM provider: huggingface
2025-04-29 10:19:02.606 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: 403, message='Forbidden', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-04-29 10:19:04.756 | ERROR    | apps.rag.services:generate_response:604 | Error generating response: 403, message='Forbidden', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-04-29 10:19:34.897 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: 403, message='Forbidden', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-04-29 10:19:36.508 | ERROR    | apps.rag.services:generate_response:604 | Error generating response: 403, message='Forbidden', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-04-29 10:20:00.973 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: 403, message='Forbidden', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-04-29 10:20:01.797 | ERROR    | apps.rag.services:generate_response:604 | Error generating response: 403, message='Forbidden', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-04-29 10:24:09.739 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: Expecting value: line 1 column 1 (char 0)
2025-04-29 10:31:47.091 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: Expecting value: line 1 column 1 (char 0)
2025-04-29 10:32:26.582 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: Expecting value: line 1 column 1 (char 0)
2025-04-29 10:32:57.032 | ERROR    | apps.rag.services:generate_response:601 | Response generation timed out
2025-04-29 10:33:12.264 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: Expecting value: line 1 column 1 (char 0)
2025-04-29 10:34:17.337 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: Expecting value: line 1 column 1 (char 0)
2025-04-29 10:42:19.200 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-29 10:42:19.200 | ERROR    | main:lifespan:47 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-29 10:42:37.445 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-29 10:42:37.447 | ERROR    | main:lifespan:47 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-29 10:42:56.299 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-29 10:42:56.299 | ERROR    | main:lifespan:47 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-29 10:43:14.722 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-29 10:43:14.722 | ERROR    | main:lifespan:47 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-29 10:44:03.892 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-29 10:44:03.893 | ERROR    | main:lifespan:47 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-29 10:44:21.615 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-29 10:44:21.616 | ERROR    | main:lifespan:47 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-29 11:01:50.894 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-29 11:01:50.895 | ERROR    | main:lifespan:47 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-29 11:05:27.910 | ERROR    | main:initialize_chat:319 | خطأ أثناء فهرسة المستند: "'repo_id'"
2025-04-29 11:09:18.519 | ERROR    | core.search.query_processor:_process_complex_query:269 | Complex query processing error: 403, message='Forbidden', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-04-29 11:09:21.632 | ERROR    | apps.rag.services:generate_response:624 | Error generating response: 403, message='Forbidden', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-04-29 11:39:10.354 | ERROR    | core.vector_store.connection:ensure_connection:22 | Failed to connect to Milvus: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-29 11:39:10.354 | ERROR    | main:lifespan:47 | Failed to start application: <MilvusException: (code=2, message=Fail connecting to server on localhost:19530, illegal connection params or server unavailable)>
2025-04-29 11:45:22.666 | ERROR    | core.search.query_processor:_process_complex_query:272 | Complex query processing error: 404, message='Not Found', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-04-29 11:45:23.653 | ERROR    | apps.rag.services:generate_response:624 | Error generating response: 404, message='Not Found', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-04-29 12:33:14.895 | ERROR    | core.search.query_processor:_process_complex_query:281 | Complex query processing error: 404, message='Not Found', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-04-29 12:33:17.410 | ERROR    | apps.rag.services:generate_response:624 | Error generating response: 404, message='Not Found', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-04-29 13:28:03.748 | ERROR    | core.search.query_processor:_process_complex_query:281 | Complex query processing error: Expecting value: line 1 column 1 (char 0)
2025-04-29 13:45:01.506 | ERROR    | core.search.query_processor:_process_complex_query:281 | Complex query processing error: Expecting value: line 1 column 1 (char 0)
2025-04-30 11:02:33.725 | ERROR    | apps.rag.services:_post_process_response:766 | LANGUAGE ERROR: Query is in Arabic but response is in another language
2025-04-30 11:12:19.243 | ERROR    | apps.rag.services:_post_process_response:799 | LANGUAGE ERROR: Query is in Arabic but response has insufficient Arabic content (152/2233 chars)
2025-04-30 11:14:02.087 | ERROR    | apps.rag.services:_post_process_response:799 | LANGUAGE ERROR: Query is in Arabic but response has insufficient Arabic content (89/1209 chars)
2025-04-30 11:26:42.453 | ERROR    | apps.rag.services:_post_process_response:801 | LANGUAGE ERROR: Query is in Arabic but response has insufficient Arabic content (26/743 chars)
2025-04-30 11:32:04.844 | ERROR    | core.middleware:error_handler:11 | Unhandled error: "'repo_id'"
2025-04-30 13:03:08.563 | ERROR    | main:initialize_chat:319 | خطأ أثناء فهرسة المستند: "'endpoint_url'"
2025-04-30 14:10:35.063 | ERROR    | main:initialize_chat:319 | خطأ أثناء فهرسة المستند: "'endpoint_url'"
2025-04-30 14:11:37.356 | ERROR    | apps.chat.routes:chat_query:822 | Error processing query: RAGService.generate_response() got an unexpected keyword argument 'context_docs'
2025-04-30 14:31:35.268 | ERROR    | main:initialize_chat:319 | خطأ أثناء فهرسة المستند: "'endpoint_url'"
2025-04-30 14:58:03.885 | ERROR    | main:initialize_chat:319 | خطأ أثناء فهرسة المستند: "'endpoint_url'"
2025-04-30 15:03:51.376 | ERROR    | main:initialize_chat:319 | خطأ أثناء فهرسة المستند: "'endpoint_url'"
2025-04-30 22:11:55.877 | ERROR    | core.vector_store.manager:initialize:58 | Failed to initialize vector store: The paging file is too small for this operation to complete. (os error 1455)
2025-04-30 22:11:55.877 | ERROR    | main:initialize_chat:319 | خطأ أثناء فهرسة المستند: The paging file is too small for this operation to complete. (os error 1455)
2025-05-05 22:46:36.797 | ERROR    | apps.rag.services:generate_response:666 | Error generating response: 'PromptTemplate' object is not subscriptable
2025-05-05 22:46:36.852 | ERROR    | apps.rag.services:generate_response:667 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\rag\services.py", line 579, in generate_response
    prompt_template = self._select_specialized_prompt(query, context_docs)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\rag\services.py", line 708, in _select_specialized_prompt
    logger.debug(f"REACT_PROMPT_TEMPLATE content preview: {REACT_PROMPT_TEMPLATE[:100]}...")
                                                           ~~~~~~~~~~~~~~~~~~~~~^^^^^^
TypeError: 'PromptTemplate' object is not subscriptable

2025-05-05 22:46:36.858 | ERROR    | apps.rag.services:generate_response:670 | !!!! RETURNING ERROR: عذرًا، حدث خطأ أثناء معالجة الاستعلام. يرجى التأكد من تشغيل نموذج اللغة.
2025-05-05 23:08:03.246 | ERROR    | apps.rag.services:generate_response:689 | Error generating response: type object 'datetime.datetime' has no attribute 'datetime'
2025-05-05 23:08:03.251 | ERROR    | apps.rag.services:generate_response:690 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\rag\services.py", line 511, in generate_response
    cache_key = ''.join(random.choices(string.ascii_letters + string.digits, k=10)) + '_' + datetime.datetime.now().strftime('%Y%m%d%H%M%S%f')
                                                                                            ^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.datetime' has no attribute 'datetime'

2025-05-05 23:08:03.251 | ERROR    | apps.rag.services:generate_response:693 | !!!! RETURNING ERROR: عذرًا، حدث خطأ أثناء معالجة الاستعلام. يرجى التأكد من تشغيل نموذج اللغة.
2025-05-05 23:08:48.779 | ERROR    | apps.rag.services:generate_response:689 | Error generating response: type object 'datetime.datetime' has no attribute 'datetime'
2025-05-05 23:08:48.784 | ERROR    | apps.rag.services:generate_response:690 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\rag\services.py", line 511, in generate_response
    cache_key = ''.join(random.choices(string.ascii_letters + string.digits, k=10)) + '_' + datetime.datetime.now().strftime('%Y%m%d%H%M%S%f')
                                                                                            ^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.datetime' has no attribute 'datetime'

2025-05-05 23:08:48.784 | ERROR    | apps.rag.services:generate_response:693 | !!!! RETURNING ERROR: عذرًا، حدث خطأ أثناء معالجة الاستعلام. يرجى التأكد من تشغيل نموذج اللغة.
2025-05-05 23:09:01.312 | ERROR    | apps.rag.services:generate_response:689 | Error generating response: type object 'datetime.datetime' has no attribute 'datetime'
2025-05-05 23:09:01.322 | ERROR    | apps.rag.services:generate_response:690 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\rag\services.py", line 511, in generate_response
    cache_key = ''.join(random.choices(string.ascii_letters + string.digits, k=10)) + '_' + datetime.datetime.now().strftime('%Y%m%d%H%M%S%f')
                                                                                            ^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.datetime' has no attribute 'datetime'

2025-05-05 23:09:01.322 | ERROR    | apps.rag.services:generate_response:693 | !!!! RETURNING ERROR: عذرًا، حدث خطأ أثناء معالجة الاستعلام. يرجى التأكد من تشغيل نموذج اللغة.
2025-05-05 23:19:11.321 | ERROR    | apps.rag.services:generate_response:689 | Error generating response: module 'datetime' has no attribute 'now'
2025-05-05 23:19:11.371 | ERROR    | apps.rag.services:generate_response:690 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\rag\services.py", line 511, in generate_response
    cache_key = ''.join(random.choices(string.ascii_letters + string.digits, k=10)) + '_' + datetime.now().strftime('%Y%m%d%H%M%S%f')
                                                                                            ^^^^^^^^^^^^
AttributeError: module 'datetime' has no attribute 'now'

2025-05-05 23:19:11.384 | ERROR    | apps.rag.services:generate_response:693 | !!!! RETURNING ERROR: عذرًا، حدث خطأ أثناء معالجة الاستعلام. يرجى التأكد من تشغيل نموذج اللغة.
2025-05-06 07:53:41.215 | ERROR    | apps.rag.services:generate_response:552 | ---> النموذج يعيد استجابة فارغة!
2025-05-06 07:53:41.215 | ERROR    | apps.rag.services:generate_response:560 | نموذج اللغة غير متاح: نموذج اللغة يعيد استجابة فارغة
2025-05-06 07:53:41.226 | ERROR    | apps.rag.services:generate_response:561 | ---> Error details: نموذج اللغة يعيد استجابة فارغة
2025-05-06 07:53:41.265 | ERROR    | apps.rag.services:generate_response:562 | ---> Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\rag\services.py", line 553, in generate_response
    raise RuntimeError("نموذج اللغة يعيد استجابة فارغة")
RuntimeError: نموذج اللغة يعيد استجابة فارغة

2025-05-06 07:53:41.273 | ERROR    | apps.rag.services:generate_response:567 | !!!! RETURNING UNIQUE ERROR FROM GENERATE_RESPONSE: UNIQUE-GENERATE-ERROR-ABC1234: النموذج اللغوي غير متوفر حالياً في وظيفة generate_response! [رمز الخطأ: GEN-ERROR-56789]
2025-05-06 07:59:33.427 | ERROR    | apps.rag.services:generate_response:574 | ---> النموذج يعيد استجابة فارغة!
2025-05-06 07:59:33.430 | ERROR    | apps.rag.services:generate_response:582 | نموذج اللغة غير متاح: نموذج اللغة يعيد استجابة فارغة
2025-05-06 07:59:33.430 | ERROR    | apps.rag.services:generate_response:583 | ---> Error details: نموذج اللغة يعيد استجابة فارغة
2025-05-06 07:59:33.433 | ERROR    | apps.rag.services:generate_response:584 | ---> Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\rag\services.py", line 575, in generate_response
    raise RuntimeError("نموذج اللغة يعيد استجابة فارغة")
RuntimeError: نموذج اللغة يعيد استجابة فارغة

2025-05-06 07:59:33.433 | ERROR    | apps.rag.services:generate_response:589 | !!!! RETURNING UNIQUE ERROR FROM GENERATE_RESPONSE: UNIQUE-GENERATE-ERROR-ABC1234: النموذج اللغوي غير متوفر حالياً في وظيفة generate_response! [رمز الخطأ: GEN-ERROR-56789]
2025-05-06 10:43:02.474 | ERROR    | core.llm.factory:create_llm:190 | ERROR CREATING HUGGINGFACE ENDPOINT: 1 validation error for HuggingFaceEndpoint
  Value error, Could not authenticate with huggingface_hub. Please check your API token. [type=value_error, input_value={'endpoint_url': 'https:/...s.huggingface.cloud/v1'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/value_error
2025-05-06 10:43:02.553 | ERROR    | core.llm.factory:create_llm:191 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\llm\factory.py", line 179, in create_llm
    endpoint = HuggingFaceEndpoint(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\load\serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 214, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for HuggingFaceEndpoint
  Value error, Could not authenticate with huggingface_hub. Please check your API token. [type=value_error, input_value={'endpoint_url': 'https:/...s.huggingface.cloud/v1'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/value_error

2025-05-06 10:43:02.553 | ERROR    | core.llm.factory:create_llm:199 | CRITICAL ERROR in create_llm: 1 validation error for HuggingFaceEndpoint
  Value error, Could not authenticate with huggingface_hub. Please check your API token. [type=value_error, input_value={'endpoint_url': 'https:/...s.huggingface.cloud/v1'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/value_error
2025-05-06 10:43:02.556 | ERROR    | core.llm.factory:create_llm:200 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\llm\factory.py", line 179, in create_llm
    endpoint = HuggingFaceEndpoint(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\load\serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 214, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for HuggingFaceEndpoint
  Value error, Could not authenticate with huggingface_hub. Please check your API token. [type=value_error, input_value={'endpoint_url': 'https:/...s.huggingface.cloud/v1'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/value_error

2025-05-06 10:44:46.406 | ERROR    | core.llm.factory:create_llm:190 | ERROR CREATING HUGGINGFACE ENDPOINT: 1 validation error for HuggingFaceEndpoint
  Value error, Could not authenticate with huggingface_hub. Please check your API token. [type=value_error, input_value={'endpoint_url': 'https:/...s.huggingface.cloud/v1'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/value_error
2025-05-06 10:44:46.411 | ERROR    | core.llm.factory:create_llm:191 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\llm\factory.py", line 179, in create_llm
    endpoint = HuggingFaceEndpoint(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\load\serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 214, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for HuggingFaceEndpoint
  Value error, Could not authenticate with huggingface_hub. Please check your API token. [type=value_error, input_value={'endpoint_url': 'https:/...s.huggingface.cloud/v1'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/value_error

2025-05-06 10:44:46.413 | ERROR    | core.llm.factory:create_llm:199 | CRITICAL ERROR in create_llm: 1 validation error for HuggingFaceEndpoint
  Value error, Could not authenticate with huggingface_hub. Please check your API token. [type=value_error, input_value={'endpoint_url': 'https:/...s.huggingface.cloud/v1'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/value_error
2025-05-06 10:44:46.417 | ERROR    | core.llm.factory:create_llm:200 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\llm\factory.py", line 179, in create_llm
    endpoint = HuggingFaceEndpoint(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\load\serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 214, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for HuggingFaceEndpoint
  Value error, Could not authenticate with huggingface_hub. Please check your API token. [type=value_error, input_value={'endpoint_url': 'https:/...s.huggingface.cloud/v1'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/value_error

2025-05-06 11:46:30.734 | ERROR    | apps.chat.routes:process_query:544 | نموذج اللغة غير متاح: 402, message='Payment Required', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-05-06 11:46:30.734 | ERROR    | apps.chat.routes:process_query:565 | Error processing query: 503: نموذج اللغة غير متاح: 402, message='Payment Required', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-05-06 11:58:43.356 | ERROR    | apps.rag.services:initialize:102 | Error initializing RAG service: 'RAGService' object has no attribute '_create_vector_store'
2025-05-06 11:58:43.364 | ERROR    | apps.rag.services:initialize:103 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\rag\services.py", line 78, in initialize
    self.vector_store = self._create_vector_store()
                        ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'RAGService' object has no attribute '_create_vector_store'

2025-05-06 11:58:43.364 | ERROR    | apps.chat.routes:upload_attachments:418 | Error in file upload: 'RAGService' object has no attribute '_create_vector_store'
2025-05-06 11:58:43.370 | ERROR    | core.middleware:error_handler:11 | Unhandled error: APIError.__init__() got an unexpected keyword argument 'error'
2025-05-06 12:04:23.775 | ERROR    | apps.chat.routes:process_query:544 | نموذج اللغة غير متاح: 402, message='Payment Required', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-05-06 12:04:23.787 | ERROR    | apps.chat.routes:process_query:565 | Error processing query: 503: نموذج اللغة غير متاح: 402, message='Payment Required', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-05-06 12:04:55.425 | ERROR    | apps.chat.routes:process_query:544 | نموذج اللغة غير متاح: 402, message='Payment Required', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-05-06 12:04:55.426 | ERROR    | apps.chat.routes:process_query:565 | Error processing query: 503: نموذج اللغة غير متاح: 402, message='Payment Required', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-05-06 12:26:33.863 | ERROR    | apps.chat.routes:process_query:582 | نموذج اللغة غير متاح: 402, message='Payment Required', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-05-06 12:26:34.231 | ERROR    | apps.chat.routes:process_query:583 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\chat\routes.py", line 567, in process_query
    test_response = await asyncio.wait_for(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\language_models\llms.py", line 1229, in agenerate
    return await self._agenerate_helper(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\language_models\llms.py", line 1043, in _agenerate_helper
    await self._agenerate(
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\language_models\llms.py", line 1563, in _agenerate
    await self._acall(prompt, stop=stop, run_manager=run_manager, **kwargs)
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_huggingface\llms\huggingface_endpoint.py", line 343, in _acall
    response = await self.async_client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\huggingface_hub\inference\_generated\_async_client.py", line 267, in post
    return await self._inner_post(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\huggingface_hub\inference\_generated\_async_client.py", line 358, in _inner_post
    raise error
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\huggingface_hub\inference\_generated\_async_client.py", line 323, in _inner_post
    response.raise_for_status()
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohttp\client_reqrep.py", line 1161, in raise_for_status
    raise ClientResponseError(
aiohttp.client_exceptions.ClientResponseError: 402, message='Payment Required', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'

2025-05-06 12:26:34.233 | ERROR    | apps.chat.routes:process_query:604 | Error processing query: 503: نموذج اللغة غير متاح: 402, message='Payment Required', url='https://api-inference.huggingface.co/models/mistralai/Mistral-Nemo-Instruct-2407'
2025-05-06 12:38:12.098 | ERROR    | core.llm.factory:create_llm:194 | ERROR CREATING LLM: "ChatOpenAI" object has no field "repo_id"
2025-05-06 12:38:12.101 | ERROR    | core.llm.factory:create_llm:195 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\llm\factory.py", line 137, in create_llm
    model.repo_id = "yehia-7b-preview-red"
    ^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 925, in __setattr__
    raise ValueError(f'"{self.__class__.__name__}" object has no field "{name}"')
ValueError: "ChatOpenAI" object has no field "repo_id"

2025-05-06 12:38:12.101 | ERROR    | apps.rag.services:__init__:80 | Failed to initialize RAGService: "ChatOpenAI" object has no field "repo_id"
2025-05-06 12:38:19.193 | ERROR    | core.llm.factory:create_llm:194 | ERROR CREATING LLM: "ChatOpenAI" object has no field "repo_id"
2025-05-06 12:38:19.196 | ERROR    | core.llm.factory:create_llm:195 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\llm\factory.py", line 137, in create_llm
    model.repo_id = "yehia-7b-preview-red"
    ^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 925, in __setattr__
    raise ValueError(f'"{self.__class__.__name__}" object has no field "{name}"')
ValueError: "ChatOpenAI" object has no field "repo_id"

2025-05-06 12:38:19.197 | ERROR    | apps.rag.services:__init__:80 | Failed to initialize RAGService: "ChatOpenAI" object has no field "repo_id"
2025-05-06 12:46:57.994 | ERROR    | apps.rag.services:__init__:109 | Failed to initialize RAGService: cannot access local variable 'asyncio' where it is not associated with a value
2025-05-06 12:47:18.687 | ERROR    | apps.rag.services:__init__:109 | Failed to initialize RAGService: cannot access local variable 'asyncio' where it is not associated with a value
2025-05-06 12:47:25.173 | ERROR    | apps.rag.services:__init__:109 | Failed to initialize RAGService: cannot access local variable 'asyncio' where it is not associated with a value
2025-05-06 12:47:31.599 | ERROR    | apps.rag.services:__init__:109 | Failed to initialize RAGService: cannot access local variable 'asyncio' where it is not associated with a value
2025-05-06 12:47:37.612 | ERROR    | apps.rag.services:__init__:109 | Failed to initialize RAGService: cannot access local variable 'asyncio' where it is not associated with a value
2025-05-06 12:47:44.055 | ERROR    | apps.rag.services:__init__:109 | Failed to initialize RAGService: cannot access local variable 'asyncio' where it is not associated with a value
2025-05-06 12:47:51.706 | ERROR    | apps.rag.services:__init__:109 | Failed to initialize RAGService: cannot access local variable 'asyncio' where it is not associated with a value
2025-05-06 12:50:40.055 | ERROR    | apps.rag.services:__init__:109 | Failed to initialize RAGService: cannot access local variable 'asyncio' where it is not associated with a value
2025-05-06 12:51:27.360 | ERROR    | core.llm.factory:create_llm:194 | ERROR CREATING LLM: "ChatOpenAI" object has no field "repo_id"
2025-05-06 12:51:27.360 | ERROR    | core.llm.factory:create_llm:195 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\llm\factory.py", line 137, in create_llm
    model.repo_id = "yehia-7b-preview-red"
    ^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 925, in __setattr__
    raise ValueError(f'"{self.__class__.__name__}" object has no field "{name}"')
ValueError: "ChatOpenAI" object has no field "repo_id"

2025-05-06 12:51:27.360 | ERROR    | apps.rag.services:__init__:92 | Failed to initialize RAGService: "ChatOpenAI" object has no field "repo_id"
2025-05-06 12:51:34.018 | ERROR    | core.llm.factory:create_llm:194 | ERROR CREATING LLM: "ChatOpenAI" object has no field "repo_id"
2025-05-06 12:51:34.018 | ERROR    | core.llm.factory:create_llm:195 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\llm\factory.py", line 137, in create_llm
    model.repo_id = "yehia-7b-preview-red"
    ^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 925, in __setattr__
    raise ValueError(f'"{self.__class__.__name__}" object has no field "{name}"')
ValueError: "ChatOpenAI" object has no field "repo_id"

2025-05-06 12:51:34.018 | ERROR    | apps.rag.services:__init__:92 | Failed to initialize RAGService: "ChatOpenAI" object has no field "repo_id"
2025-05-06 12:51:51.664 | ERROR    | core.llm.factory:create_llm:194 | ERROR CREATING LLM: "ChatOpenAI" object has no field "repo_id"
2025-05-06 12:51:51.667 | ERROR    | core.llm.factory:create_llm:195 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\llm\factory.py", line 137, in create_llm
    model.repo_id = "yehia-7b-preview-red"
    ^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 925, in __setattr__
    raise ValueError(f'"{self.__class__.__name__}" object has no field "{name}"')
ValueError: "ChatOpenAI" object has no field "repo_id"

2025-05-06 12:51:51.667 | ERROR    | apps.rag.services:__init__:92 | Failed to initialize RAGService: "ChatOpenAI" object has no field "repo_id"
2025-05-06 12:51:57.808 | ERROR    | core.llm.factory:create_llm:194 | ERROR CREATING LLM: "ChatOpenAI" object has no field "repo_id"
2025-05-06 12:51:57.818 | ERROR    | core.llm.factory:create_llm:195 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\llm\factory.py", line 137, in create_llm
    model.repo_id = "yehia-7b-preview-red"
    ^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 925, in __setattr__
    raise ValueError(f'"{self.__class__.__name__}" object has no field "{name}"')
ValueError: "ChatOpenAI" object has no field "repo_id"

2025-05-06 12:51:57.818 | ERROR    | apps.rag.services:__init__:92 | Failed to initialize RAGService: "ChatOpenAI" object has no field "repo_id"
2025-05-06 12:52:04.370 | ERROR    | core.llm.factory:create_llm:194 | ERROR CREATING LLM: "ChatOpenAI" object has no field "repo_id"
2025-05-06 12:52:04.384 | ERROR    | core.llm.factory:create_llm:195 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\llm\factory.py", line 137, in create_llm
    model.repo_id = "yehia-7b-preview-red"
    ^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 925, in __setattr__
    raise ValueError(f'"{self.__class__.__name__}" object has no field "{name}"')
ValueError: "ChatOpenAI" object has no field "repo_id"

2025-05-06 12:52:04.385 | ERROR    | apps.rag.services:__init__:92 | Failed to initialize RAGService: "ChatOpenAI" object has no field "repo_id"
2025-05-06 12:52:18.437 | ERROR    | core.llm.factory:create_llm:194 | ERROR CREATING LLM: "ChatOpenAI" object has no field "repo_id"
2025-05-06 12:52:18.437 | ERROR    | core.llm.factory:create_llm:195 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\llm\factory.py", line 137, in create_llm
    model.repo_id = "yehia-7b-preview-red"
    ^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 925, in __setattr__
    raise ValueError(f'"{self.__class__.__name__}" object has no field "{name}"')
ValueError: "ChatOpenAI" object has no field "repo_id"

2025-05-06 12:52:18.451 | ERROR    | apps.rag.services:__init__:92 | Failed to initialize RAGService: "ChatOpenAI" object has no field "repo_id"
2025-05-06 12:52:30.305 | ERROR    | core.llm.factory:create_llm:194 | ERROR CREATING LLM: "ChatOpenAI" object has no field "repo_id"
2025-05-06 12:52:30.306 | ERROR    | core.llm.factory:create_llm:195 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\llm\factory.py", line 137, in create_llm
    model.repo_id = "yehia-7b-preview-red"
    ^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 925, in __setattr__
    raise ValueError(f'"{self.__class__.__name__}" object has no field "{name}"')
ValueError: "ChatOpenAI" object has no field "repo_id"

2025-05-06 12:52:30.307 | ERROR    | apps.rag.services:__init__:92 | Failed to initialize RAGService: "ChatOpenAI" object has no field "repo_id"
2025-05-06 12:52:53.862 | ERROR    | apps.rag.services:__init__:79 | WRONG MODEL CREATED: tgi
2025-05-06 12:57:27.568 | ERROR    | apps.rag.services:initialize:149 | Error testing LLM: Error code: 401 - {'error': {'message': 'Incorrect API key provided: hf_yevce*************************JAUj. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-06 12:57:27.574 | ERROR    | apps.rag.services:initialize:150 | Will try to recreate LLM...
2025-05-06 12:58:41.976 | ERROR    | apps.chat.routes:process_query:678 | نموذج اللغة غير متاح: Error code: 401 - {'error': {'message': 'Incorrect API key provided: hf_yevce*************************JAUj. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-06 12:58:42.350 | ERROR    | apps.chat.routes:process_query:679 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\chat\routes.py", line 663, in process_query
    test_response = await asyncio.wait_for(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\language_models\chat_models.py", line 863, in agenerate
    raise exceptions[0]
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1033, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_openai\chat_models\base.py", line 1157, in _agenerate
    response = await self.async_client.create(**payload)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\resources\chat\completions\completions.py", line 2002, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: hf_yevce*************************JAUj. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-06 12:58:42.358 | ERROR    | core.middleware:error_handler:11 | Unhandled error: "'error'"
2025-05-06 13:05:50.195 | ERROR    | apps.rag.services:initialize:170 | Error initializing RAG service: cannot access local variable 'ModelFactory' where it is not associated with a value
2025-05-06 13:05:50.200 | ERROR    | apps.rag.services:initialize:171 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\rag\services.py", line 129, in initialize
    self.llm = ModelFactory.create_llm()
               ^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'ModelFactory' where it is not associated with a value

2025-05-06 13:05:50.200 | ERROR    | apps.chat.routes:process_query:700 | Error processing query: cannot access local variable 'ModelFactory' where it is not associated with a value
2025-05-06 13:09:02.081 | ERROR    | apps.rag.services:initialize:170 | Error initializing RAG service: cannot access local variable 'ModelFactory' where it is not associated with a value
2025-05-06 13:09:02.097 | ERROR    | apps.rag.services:initialize:171 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\rag\services.py", line 129, in initialize
    self.llm = ModelFactory.create_llm()
               ^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'ModelFactory' where it is not associated with a value

2025-05-06 13:09:02.097 | ERROR    | apps.chat.routes:upload_attachments:487 | Error in file upload: cannot access local variable 'ModelFactory' where it is not associated with a value
2025-05-06 13:09:02.113 | ERROR    | core.middleware:error_handler:11 | Unhandled error: APIError.__init__() got an unexpected keyword argument 'error'
2025-05-06 13:12:42.553 | ERROR    | apps.rag.services:initialize:154 | Error testing LLM: Error code: 401 - {'error': {'message': 'Incorrect API key provided: yevcemHd**********************JAUj. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-06 13:12:42.555 | ERROR    | apps.rag.services:initialize:155 | Will try to recreate LLM...
2025-05-06 13:13:45.949 | ERROR    | apps.chat.routes:process_query:678 | نموذج اللغة غير متاح: Error code: 401 - {'error': {'message': 'Incorrect API key provided: yevcemHd**********************JAUj. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-06 13:13:45.975 | ERROR    | apps.chat.routes:process_query:679 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\chat\routes.py", line 663, in process_query
    test_response = await asyncio.wait_for(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\language_models\chat_models.py", line 863, in agenerate
    raise exceptions[0]
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1033, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_openai\chat_models\base.py", line 1157, in _agenerate
    response = await self.async_client.create(**payload)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\resources\chat\completions\completions.py", line 2002, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: yevcemHd**********************JAUj. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-06 13:13:45.977 | ERROR    | core.middleware:error_handler:11 | Unhandled error: "'error'"
2025-05-06 13:18:27.239 | ERROR    | apps.rag.services:initialize:154 | Error testing LLM: Error code: 401 - {'error': {'message': 'Incorrect API key provided: dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-06 13:18:27.242 | ERROR    | apps.rag.services:initialize:155 | Will try to recreate LLM...
2025-05-06 13:19:14.455 | ERROR    | apps.chat.routes:process_query:678 | نموذج اللغة غير متاح: Error code: 401 - {'error': {'message': 'Incorrect API key provided: dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-06 13:19:14.490 | ERROR    | apps.chat.routes:process_query:679 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\chat\routes.py", line 663, in process_query
    test_response = await asyncio.wait_for(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\language_models\chat_models.py", line 863, in agenerate
    raise exceptions[0]
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1033, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_openai\chat_models\base.py", line 1157, in _agenerate
    response = await self.async_client.create(**payload)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\resources\chat\completions\completions.py", line 2002, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-06 13:19:14.503 | ERROR    | core.middleware:error_handler:11 | Unhandled error: "'error'"
2025-05-06 13:46:10.115 | ERROR    | apps.rag.services:__init__:92 | Failed to initialize RAGService: "DummyChatModel" object has no field "model_name"
2025-05-06 13:46:23.758 | ERROR    | apps.rag.services:__init__:92 | Failed to initialize RAGService: "DummyChatModel" object has no field "model_name"
2025-05-06 13:46:46.305 | ERROR    | apps.rag.services:__init__:92 | Failed to initialize RAGService: "DummyChatModel" object has no field "model_name"
2025-05-06 13:46:53.587 | ERROR    | apps.rag.services:__init__:92 | Failed to initialize RAGService: "DummyChatModel" object has no field "model_name"
2025-05-06 14:09:09.760 | ERROR    | main:lifespan:97 | Failed to start application: name 'RAGService' is not defined
2025-05-06 14:09:17.872 | ERROR    | main:lifespan:97 | Failed to start application: name 'RAGService' is not defined
2025-05-06 14:09:35.758 | ERROR    | main:lifespan:97 | Failed to start application: name 'RAGService' is not defined
2025-05-06 14:10:39.612 | ERROR    | apps.rag.services:initialize:167 | Error testing LLM: Error code: 400 - {'error': 'Bad Request: The endpoint is paused, ask a maintainer to restart it'}
2025-05-06 14:10:39.612 | ERROR    | apps.rag.services:initialize:168 | Will try to recreate LLM...
2025-05-06 14:11:15.132 | ERROR    | apps.rag.services:initialize:167 | Error testing LLM: Error code: 400 - {'error': 'Bad Request: The endpoint is paused, ask a maintainer to restart it'}
2025-05-06 14:11:15.135 | ERROR    | apps.rag.services:initialize:168 | Will try to recreate LLM...
2025-05-06 14:12:53.586 | ERROR    | apps.rag.services:initialize:167 | Error testing LLM: Error code: 400 - {'error': 'Bad Request: The endpoint is paused, ask a maintainer to restart it'}
2025-05-06 14:12:53.593 | ERROR    | apps.rag.services:initialize:168 | Will try to recreate LLM...
2025-05-06 14:14:04.897 | ERROR    | apps.rag.services:initialize:167 | Error testing LLM: Error code: 400 - {'error': 'Bad Request: The endpoint is paused, ask a maintainer to restart it'}
2025-05-06 14:14:04.915 | ERROR    | apps.rag.services:initialize:168 | Will try to recreate LLM...
2025-05-06 14:14:55.013 | ERROR    | apps.chat.routes:process_query:652 | نموذج اللغة غير متاح: Error code: 400 - {'error': 'Bad Request: The endpoint is paused, ask a maintainer to restart it'}
2025-05-06 14:14:55.046 | ERROR    | apps.chat.routes:process_query:653 | Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\chat\routes.py", line 637, in process_query
    test_response = await asyncio.wait_for(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\language_models\chat_models.py", line 863, in agenerate
    raise exceptions[0]
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1033, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_openai\chat_models\base.py", line 1157, in _agenerate
    response = await self.async_client.create(**payload)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\resources\chat\completions\completions.py", line 2002, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': 'Bad Request: The endpoint is paused, ask a maintainer to restart it'}

2025-05-06 14:14:55.063 | ERROR    | core.middleware:error_handler:11 | Unhandled error: "'error'"
2025-05-06 14:26:44.021 | ERROR    | apps.chat.routes:process_query:652 | نموذج اللغة غير متاح: 
2025-05-06 14:26:44.336 | ERROR    | apps.chat.routes:process_query:653 | Traceback (most recent call last):
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\language_models\chat_models.py", line 825, in agenerate
    results = await asyncio.gather(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1033, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_openai\chat_models\base.py", line 1157, in _agenerate
    response = await self.async_client.create(**payload)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\resources\chat\completions\completions.py", line 2002, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\_base_client.py", line 1500, in _request
    response = await self._client.send(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpcore\_async\http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpcore\_async\http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpcore\_async\http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpcore\_backends\anyio.py", line 35, in read
    return await self._stream.receive(max_bytes=max_bytes)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\tls.py", line 204, in receive
    data = await self._call_sslobject_method(self._ssl_object.read, max_bytes)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\tls.py", line 147, in _call_sslobject_method
    data = await self.transport_stream.receive()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\_backends\_asyncio.py", line 1246, in receive
    await self._protocol.read_event.wait()
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\asyncio\locks.py", line 212, in wait
    await fut
asyncio.exceptions.CancelledError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\chat\routes.py", line 637, in process_query
    test_response = await asyncio.wait_for(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 519, in wait_for
    async with timeouts.timeout(timeout):
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\asyncio\timeouts.py", line 115, in __aexit__
    raise TimeoutError from exc_val
TimeoutError

2025-05-06 14:26:44.349 | ERROR    | apps.chat.routes:process_query:674 | Error processing query: 503: نموذج اللغة غير متاح: 
2025-05-06 14:34:16.994 | ERROR    | apps.chat.routes:chat_query:914 | Error processing query: name 'conversation_id' is not defined
2025-05-06 14:37:25.185 | ERROR    | apps.chat.routes:chat_query:914 | Error processing query: name 'conversation_id' is not defined
2025-05-06 14:41:59.069 | ERROR    | main:initialize_chat:362 | Failed to create LLM: 'NoneType' object has no attribute 'llm'
2025-05-06 14:41:59.069 | ERROR    | main:initialize_chat:438 | خطأ أثناء فهرسة المستند: name 'traceback' is not defined
2025-05-06 14:46:28.904 | ERROR    | apps.rag.services:initialize:168 | Error testing LLM: 
2025-05-06 14:46:28.904 | ERROR    | apps.rag.services:initialize:169 | Will try to recreate LLM...
2025-05-06 14:48:22.088 | ERROR    | main:initialize_chat:376 | Failed to create LLM: cannot access local variable 'rag_service' where it is not associated with a value
2025-05-06 14:48:22.094 | ERROR    | main:initialize_chat:377 | Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\main.py", line 311, in initialize_chat
    if not rag_service:
           ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'rag_service' where it is not associated with a value

2025-05-06 14:48:48.545 | ERROR    | main:initialize_chat:452 | خطأ أثناء فهرسة المستند: cannot access local variable 'rag_service' where it is not associated with a value
2025-05-06 14:55:33.934 | ERROR    | main:initialize_chat:383 | Failed to create LLM: cannot access local variable 'rag_service' where it is not associated with a value
2025-05-06 14:55:33.939 | ERROR    | main:initialize_chat:384 | Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\main.py", line 318, in initialize_chat
    if not rag_service:
           ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'rag_service' where it is not associated with a value

2025-05-06 14:56:08.541 | ERROR    | main:initialize_chat:485 | خطأ أثناء فهرسة المستند: cannot access local variable 'rag_service' where it is not associated with a value
2025-05-06 15:09:10.958 | ERROR    | main:initialize_chat:383 | Failed to create LLM: cannot access local variable 'rag_service' where it is not associated with a value
2025-05-06 15:09:10.973 | ERROR    | main:initialize_chat:384 | Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\main.py", line 318, in initialize_chat
    if not rag_service:
           ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'rag_service' where it is not associated with a value

2025-05-06 15:09:22.034 | ERROR    | main:initialize_chat:485 | خطأ أثناء فهرسة المستند: cannot access local variable 'rag_service' where it is not associated with a value
2025-05-06 15:51:23.739 | ERROR    | core.search.reranker:initialize:41 | Error initializing reranker: 'Settings' object has no attribute 'reranker_model_name'
2025-05-06 15:51:23.752 | ERROR    | core.search.reranker:initialize:42 | Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\search\reranker.py", line 35, in initialize
    model_name = settings.reranker_model_name
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 891, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'reranker_model_name'

2025-05-06 15:51:23.753 | ERROR    | apps.rag.services:initialize:191 | Error initializing RAG service: 'Settings' object has no attribute 'reranker_model_name'
2025-05-06 15:51:23.760 | ERROR    | apps.rag.services:initialize:192 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\rag\services.py", line 149, in initialize
    await self.reranker.initialize()
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\search\reranker.py", line 35, in initialize
    model_name = settings.reranker_model_name
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 891, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'reranker_model_name'

2025-05-06 15:51:23.761 | ERROR    | main:lifespan:99 | Failed to start application: 'Settings' object has no attribute 'reranker_model_name'
2025-05-06 15:51:55.113 | ERROR    | core.search.reranker:initialize:41 | Error initializing reranker: 'Settings' object has no attribute 'reranker_model_name'
2025-05-06 15:51:55.128 | ERROR    | core.search.reranker:initialize:42 | Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\search\reranker.py", line 35, in initialize
    model_name = settings.reranker_model_name
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 891, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'reranker_model_name'

2025-05-06 15:51:55.128 | ERROR    | apps.rag.services:initialize:191 | Error initializing RAG service: 'Settings' object has no attribute 'reranker_model_name'
2025-05-06 15:51:55.128 | ERROR    | apps.rag.services:initialize:192 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\rag\services.py", line 149, in initialize
    await self.reranker.initialize()
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\search\reranker.py", line 35, in initialize
    model_name = settings.reranker_model_name
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 891, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'reranker_model_name'

2025-05-06 15:51:55.137 | ERROR    | main:lifespan:99 | Failed to start application: 'Settings' object has no attribute 'reranker_model_name'
2025-05-06 15:52:30.059 | ERROR    | core.search.reranker:initialize:41 | Error initializing reranker: 'Settings' object has no attribute 'reranker_model_name'
2025-05-06 15:52:30.074 | ERROR    | core.search.reranker:initialize:42 | Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\search\reranker.py", line 35, in initialize
    model_name = settings.reranker_model_name
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 891, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'reranker_model_name'

2025-05-06 15:52:30.076 | ERROR    | apps.rag.services:initialize:191 | Error initializing RAG service: 'Settings' object has no attribute 'reranker_model_name'
2025-05-06 15:52:30.082 | ERROR    | apps.rag.services:initialize:192 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\rag\services.py", line 149, in initialize
    await self.reranker.initialize()
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\search\reranker.py", line 35, in initialize
    model_name = settings.reranker_model_name
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 891, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'reranker_model_name'

2025-05-06 15:52:30.084 | ERROR    | main:lifespan:99 | Failed to start application: 'Settings' object has no attribute 'reranker_model_name'
2025-05-06 15:53:24.324 | ERROR    | core.search.reranker:initialize:41 | Error initializing reranker: 'Settings' object has no attribute 'reranker_model_name'
2025-05-06 15:53:24.339 | ERROR    | core.search.reranker:initialize:42 | Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\search\reranker.py", line 35, in initialize
    model_name = settings.reranker_model_name
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 891, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'reranker_model_name'

2025-05-06 15:53:24.340 | ERROR    | apps.rag.services:initialize:191 | Error initializing RAG service: 'Settings' object has no attribute 'reranker_model_name'
2025-05-06 15:53:24.346 | ERROR    | apps.rag.services:initialize:192 | Stack trace: Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\rag\services.py", line 149, in initialize
    await self.reranker.initialize()
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\core\search\reranker.py", line 35, in initialize
    model_name = settings.reranker_model_name
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 891, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'reranker_model_name'

2025-05-06 15:53:24.347 | ERROR    | main:lifespan:99 | Failed to start application: 'Settings' object has no attribute 'reranker_model_name'
2025-05-06 16:05:31.569 | ERROR    | main:initialize_chat:383 | Failed to create LLM: cannot access local variable 'rag_service' where it is not associated with a value
2025-05-06 16:05:31.584 | ERROR    | main:initialize_chat:384 | Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\main.py", line 318, in initialize_chat
    if not rag_service:
           ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'rag_service' where it is not associated with a value

2025-05-06 16:05:43.787 | ERROR    | main:initialize_chat:485 | خطأ أثناء فهرسة المستند: cannot access local variable 'rag_service' where it is not associated with a value
2025-05-06 16:18:18.779 | ERROR    | main:initialize_chat:489 | Error adding vectors to store: 'VectorStoreManager' object has no attribute 'add_texts'
2025-05-06 16:18:18.814 | ERROR    | main:initialize_chat:490 | Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\main.py", line 458, in initialize_chat
    vector_ids = await vector_store.add_texts(texts, metadatas)
                       ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'VectorStoreManager' object has no attribute 'add_texts'

2025-05-06 16:23:44.233 | ERROR    | main:initialize_chat:489 | Error adding vectors to store: "Document" object has no field "vector_count"
2025-05-06 16:23:44.443 | ERROR    | main:initialize_chat:490 | Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\main.py", line 464, in initialize_chat
    doc.vector_count = len(vector_ids)
    ^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlmodel\main.py", line 824, in __setattr__
    super().__setattr__(name, value)
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 925, in __setattr__
    raise ValueError(f'"{self.__class__.__name__}" object has no field "{name}"')
ValueError: "Document" object has no field "vector_count"

2025-05-06 16:41:25.531 | ERROR    | apps.chat.routes:chat_query:848 | نموذج اللغة غير متاح: Error code: 400 - {'error': 'Bad Request: The endpoint is paused, ask a maintainer to restart it'}
2025-05-06 16:41:25.643 | ERROR    | apps.chat.routes:chat_query:849 | Traceback (most recent call last):
  File "C:\Users\hessa\RAG improvement\Navid-RAG-Team\Navid-RAG-ARC\apps\chat\routes.py", line 833, in chat_query
    test_response = await asyncio.wait_for(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\language_models\chat_models.py", line 863, in agenerate
    raise exceptions[0]
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1033, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_openai\chat_models\base.py", line 1157, in _agenerate
    response = await self.async_client.create(**payload)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\resources\chat\completions\completions.py", line 2002, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hessa\AppData\Local\Programs\Python\Python312\Lib\site-packages\openai\_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': 'Bad Request: The endpoint is paused, ask a maintainer to restart it'}

2025-05-06 16:41:25.672 | ERROR    | core.middleware:error_handler:11 | Unhandled error: "'error'"
